{"file_contents":{"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"client/src/components/job-card.tsx":{"content":"import { useState } from \"react\";\nimport { Link } from \"wouter\";\nimport { \n  Play, \n  Pause, \n  MoreVertical, \n  Edit, \n  Trash2, \n  RefreshCw,\n  Globe,\n  Webhook,\n  Code,\n  Clock\n} from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport { Tooltip, TooltipContent, TooltipTrigger } from \"@/components/ui/tooltip\";\nimport type { Job } from \"@shared/schema\";\nimport cronstrue from \"cronstrue\";\nimport { formatDistanceToNow } from \"date-fns\";\n\ninterface JobCardProps {\n  job: Job;\n  onToggleStatus: (id: string, enabled: boolean) => void;\n  onRunNow: (id: string) => void;\n  onDelete: (id: string) => void;\n  isRunning?: boolean;\n}\n\nconst actionIcons = {\n  http_request: Globe,\n  webhook: Webhook,\n  script: Code,\n};\n\nconst statusStyles = {\n  active: \"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20\",\n  paused: \"bg-muted text-muted-foreground border-muted\",\n  running: \"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20 animate-pulse\",\n};\n\nexport function JobCard({ job, onToggleStatus, onRunNow, onDelete, isRunning }: JobCardProps) {\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  \n  const ActionIcon = actionIcons[job.action.type];\n  const isActive = job.status === \"active\";\n  const currentStatus = isRunning ? \"running\" : job.status;\n\n  let cronDescription = \"\";\n  try {\n    cronDescription = cronstrue.toString(job.cronExpression);\n  } catch {\n    cronDescription = \"Invalid cron expression\";\n  }\n\n  return (\n    <>\n      <Card \n        className={`relative overflow-visible transition-colors ${\n          currentStatus === \"running\" ? \"ring-2 ring-blue-500/50\" : \"\"\n        }`}\n        data-testid={`job-card-${job.id}`}\n      >\n        <div \n          className={`absolute left-0 top-0 bottom-0 w-1 rounded-l-md ${\n            currentStatus === \"active\" \n              ? \"bg-green-500\" \n              : currentStatus === \"running\"\n              ? \"bg-blue-500\"\n              : \"bg-muted-foreground/30\"\n          }`}\n        />\n        <CardHeader className=\"flex flex-row items-start justify-between gap-2 space-y-0 pb-2 pl-4\">\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center gap-2 flex-wrap\">\n              <CardTitle className=\"text-base font-semibold truncate\">\n                {job.name}\n              </CardTitle>\n              <Badge \n                variant=\"outline\" \n                className={`text-xs uppercase font-medium ${statusStyles[currentStatus]}`}\n                data-testid={`job-status-${job.id}`}\n              >\n                {currentStatus}\n              </Badge>\n            </div>\n            {job.description && (\n              <p className=\"text-sm text-muted-foreground mt-1 truncate\">\n                {job.description}\n              </p>\n            )}\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={() => onRunNow(job.id)}\n                  disabled={isRunning}\n                  data-testid={`button-run-${job.id}`}\n                >\n                  <RefreshCw className={`h-4 w-4 ${isRunning ? \"animate-spin\" : \"\"}`} />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>Run now</TooltipContent>\n            </Tooltip>\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"ghost\" size=\"icon\" data-testid={`button-menu-${job.id}`}>\n                  <MoreVertical className=\"h-4 w-4\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\">\n                <Link href={`/jobs/${job.id}/edit`}>\n                  <DropdownMenuItem data-testid={`menu-edit-${job.id}`}>\n                    <Edit className=\"h-4 w-4 mr-2\" />\n                    Edit\n                  </DropdownMenuItem>\n                </Link>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem \n                  className=\"text-destructive focus:text-destructive\"\n                  onClick={() => setShowDeleteDialog(true)}\n                  data-testid={`menu-delete-${job.id}`}\n                >\n                  <Trash2 className=\"h-4 w-4 mr-2\" />\n                  Delete\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n        </CardHeader>\n        <CardContent className=\"pl-4 space-y-3\">\n          <div className=\"flex items-center gap-2 text-sm\">\n            <ActionIcon className=\"h-4 w-4 text-muted-foreground flex-shrink-0\" />\n            <span className=\"text-muted-foreground capitalize\">\n              {job.action.type.replace(\"_\", \" \")}\n            </span>\n          </div>\n          \n          <div className=\"space-y-1\">\n            <div className=\"flex items-center gap-2\">\n              <Clock className=\"h-4 w-4 text-muted-foreground flex-shrink-0\" />\n              <code className=\"text-xs font-mono bg-muted px-2 py-1 rounded\">\n                {job.cronExpression}\n              </code>\n            </div>\n            <p className=\"text-xs text-muted-foreground pl-6\">\n              {cronDescription}\n            </p>\n          </div>\n\n          <div className=\"flex items-center justify-between pt-2 border-t\">\n            <div className=\"text-xs text-muted-foreground\">\n              {job.nextRun && isActive ? (\n                <span>\n                  Next: {formatDistanceToNow(new Date(job.nextRun), { addSuffix: true })}\n                </span>\n              ) : job.lastRun ? (\n                <span>\n                  Last: {formatDistanceToNow(new Date(job.lastRun), { addSuffix: true })}\n                </span>\n              ) : (\n                <span>Never run</span>\n              )}\n            </div>\n            <div className=\"flex items-center gap-2\">\n              {isActive ? (\n                <Pause className=\"h-3 w-3 text-muted-foreground\" />\n              ) : (\n                <Play className=\"h-3 w-3 text-muted-foreground\" />\n              )}\n              <Switch\n                checked={isActive}\n                onCheckedChange={(checked) => onToggleStatus(job.id, checked)}\n                data-testid={`switch-toggle-${job.id}`}\n              />\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      <AlertDialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Delete Job</AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to delete \"{job.name}\"? This action cannot be undone.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel data-testid=\"button-cancel-delete\">Cancel</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={() => {\n                onDelete(job.id);\n                setShowDeleteDialog(false);\n              }}\n              className=\"bg-destructive text-destructive-foreground\"\n              data-testid=\"button-confirm-delete\"\n            >\n              Delete\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n}\n","path":null,"size_bytes":7954,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1209,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":1977,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1077,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { insertJobSchema, createWorkflowRequestSchema, updateWorkflowRequestSchema } from \"@shared/schema\";\nimport { z } from \"zod\";\n\nexport async function registerRoutes(\n  httpServer: Server,\n  app: Express\n): Promise<Server> {\n  // Get all jobs\n  app.get(\"/api/jobs\", async (req, res) => {\n    try {\n      const jobs = await storage.getJobs();\n      res.json(jobs);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch jobs\" });\n    }\n  });\n\n  // Get single job\n  app.get(\"/api/jobs/:id\", async (req, res) => {\n    try {\n      const job = await storage.getJob(req.params.id);\n      if (!job) {\n        return res.status(404).json({ error: \"Job not found\" });\n      }\n      res.json(job);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch job\" });\n    }\n  });\n\n  // Create job\n  app.post(\"/api/jobs\", async (req, res) => {\n    try {\n      const parsed = insertJobSchema.safeParse(req.body);\n      if (!parsed.success) {\n        return res.status(400).json({ error: parsed.error.message });\n      }\n      const job = await storage.createJob(parsed.data);\n      res.status(201).json(job);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to create job\" });\n    }\n  });\n\n  // Update job\n  app.patch(\"/api/jobs/:id\", async (req, res) => {\n    try {\n      const job = await storage.updateJob(req.params.id, req.body);\n      if (!job) {\n        return res.status(404).json({ error: \"Job not found\" });\n      }\n      res.json(job);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to update job\" });\n    }\n  });\n\n  // Delete job\n  app.delete(\"/api/jobs/:id\", async (req, res) => {\n    try {\n      const success = await storage.deleteJob(req.params.id);\n      if (!success) {\n        return res.status(404).json({ error: \"Job not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete job\" });\n    }\n  });\n\n  // Run job manually\n  app.post(\"/api/jobs/:id/run\", async (req, res) => {\n    try {\n      const job = await storage.getJob(req.params.id);\n      if (!job) {\n        return res.status(404).json({ error: \"Job not found\" });\n      }\n      const execution = await storage.runJobNow(req.params.id);\n      res.json(execution);\n    } catch (error) {\n      const message = error instanceof Error ? error.message : \"Failed to run job\";\n      res.status(500).json({ error: message });\n    }\n  });\n\n  // Get all executions\n  app.get(\"/api/executions\", async (req, res) => {\n    try {\n      const executions = await storage.getExecutions();\n      res.json(executions);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch executions\" });\n    }\n  });\n\n  // Get executions for a job\n  app.get(\"/api/jobs/:id/executions\", async (req, res) => {\n    try {\n      const executions = await storage.getExecutionsByJob(req.params.id);\n      res.json(executions);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch executions\" });\n    }\n  });\n\n  // Get stats\n  app.get(\"/api/stats\", async (req, res) => {\n    try {\n      const stats = await storage.getStats();\n      res.json(stats);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch stats\" });\n    }\n  });\n\n  // ============ WORKFLOWS ============\n\n  // Get all workflows\n  app.get(\"/api/workflows\", async (req, res) => {\n    try {\n      const workflows = await storage.getWorkflows();\n      res.json(workflows);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch workflows\" });\n    }\n  });\n\n  // Get single workflow with steps\n  app.get(\"/api/workflows/:id\", async (req, res) => {\n    try {\n      const data = await storage.getWorkflowWithSteps(parseInt(req.params.id));\n      if (!data) {\n        return res.status(404).json({ error: \"Workflow not found\" });\n      }\n      res.json(data);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch workflow\" });\n    }\n  });\n\n  // Create workflow\n  app.post(\"/api/workflows\", async (req, res) => {\n    try {\n      const parsed = createWorkflowRequestSchema.safeParse(req.body);\n      if (!parsed.success) {\n        return res.status(400).json({ error: parsed.error.message });\n      }\n      const { name, description, cronExpression, status, steps } = parsed.data;\n      const workflow = await storage.createWorkflow(\n        { name, description, cronExpression, status },\n        steps\n      );\n      res.status(201).json(workflow);\n    } catch (error) {\n      const message = error instanceof Error ? error.message : \"Failed to create workflow\";\n      res.status(500).json({ error: message });\n    }\n  });\n\n  // Update workflow\n  app.patch(\"/api/workflows/:id\", async (req, res) => {\n    try {\n      const parsed = updateWorkflowRequestSchema.safeParse(req.body);\n      if (!parsed.success) {\n        return res.status(400).json({ error: parsed.error.message });\n      }\n      const { steps, ...data } = parsed.data;\n      const workflow = await storage.updateWorkflow(parseInt(req.params.id), data, steps);\n      if (!workflow) {\n        return res.status(404).json({ error: \"Workflow not found\" });\n      }\n      res.json(workflow);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to update workflow\" });\n    }\n  });\n\n  // Delete workflow\n  app.delete(\"/api/workflows/:id\", async (req, res) => {\n    try {\n      const success = await storage.deleteWorkflow(parseInt(req.params.id));\n      if (!success) {\n        return res.status(404).json({ error: \"Workflow not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete workflow\" });\n    }\n  });\n\n  // Run workflow manually\n  app.post(\"/api/workflows/:id/run\", async (req, res) => {\n    try {\n      const execution = await storage.runWorkflow(parseInt(req.params.id));\n      res.json(execution);\n    } catch (error) {\n      const message = error instanceof Error ? error.message : \"Failed to run workflow\";\n      res.status(500).json({ error: message });\n    }\n  });\n\n  // Get workflow executions\n  app.get(\"/api/workflows/:id/executions\", async (req, res) => {\n    try {\n      const executions = await storage.getWorkflowExecutions(parseInt(req.params.id));\n      res.json(executions);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch workflow executions\" });\n    }\n  });\n\n  // Get all workflow executions\n  app.get(\"/api/workflow-executions\", async (req, res) => {\n    try {\n      const executions = await storage.getWorkflowExecutions();\n      res.json(executions);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch workflow executions\" });\n    }\n  });\n\n  return httpServer;\n}\n","path":null,"size_bytes":6843,"size_tokens":null},"client/src/components/theme-provider.tsx":{"content":"import { createContext, useContext, useEffect, useState } from \"react\";\n\ntype Theme = \"dark\" | \"light\" | \"system\";\n\ntype ThemeProviderContextType = {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n};\n\nconst ThemeProviderContext = createContext<ThemeProviderContextType | undefined>(undefined);\n\nexport function ThemeProvider({\n  children,\n  defaultTheme = \"system\",\n  storageKey = \"cronmaster-theme\",\n}: {\n  children: React.ReactNode;\n  defaultTheme?: Theme;\n  storageKey?: string;\n}) {\n  const [theme, setTheme] = useState<Theme>(\n    () => (localStorage.getItem(storageKey) as Theme) || defaultTheme\n  );\n\n  useEffect(() => {\n    const root = window.document.documentElement;\n\n    root.classList.remove(\"light\", \"dark\");\n\n    if (theme === \"system\") {\n      const systemTheme = window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n        ? \"dark\"\n        : \"light\";\n      root.classList.add(systemTheme);\n      return;\n    }\n\n    root.classList.add(theme);\n  }, [theme]);\n\n  const value = {\n    theme,\n    setTheme: (theme: Theme) => {\n      localStorage.setItem(storageKey, theme);\n      setTheme(theme);\n    },\n  };\n\n  return (\n    <ThemeProviderContext.Provider value={value}>\n      {children}\n    </ThemeProviderContext.Provider>\n  );\n}\n\nexport const useTheme = () => {\n  const context = useContext(ThemeProviderContext);\n\n  if (context === undefined)\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\n\n  return context;\n};\n","path":null,"size_bytes":1460,"size_tokens":null},"client/src/pages/history.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Search, Filter, Calendar } from \"lucide-react\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { ExecutionLogTable } from \"@/components/execution-log-table\";\nimport type { ExecutionLog } from \"@shared/schema\";\n\nexport default function History() {\n  const [search, setSearch] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n\n  const { data: logs = [], isLoading } = useQuery<ExecutionLog[]>({\n    queryKey: [\"/api/executions\"],\n  });\n\n  const filteredLogs = logs.filter((log) => {\n    const matchesSearch = log.jobName.toLowerCase().includes(search.toLowerCase());\n    const matchesStatus = statusFilter === \"all\" || log.status === statusFilter;\n    return matchesSearch && matchesStatus;\n  });\n\n  const successCount = logs.filter((l) => l.status === \"success\").length;\n  const failureCount = logs.filter((l) => l.status === \"failure\").length;\n  const successRate = logs.length > 0 ? Math.round((successCount / logs.length) * 100) : 0;\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold tracking-tight\">Execution History</h1>\n        <p className=\"text-muted-foreground\">View all job executions and their results</p>\n      </div>\n\n      <div className=\"grid gap-4 md:grid-cols-3\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total Executions</CardTitle>\n            <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\" data-testid=\"stat-total-executions\">{logs.length}</div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Success Rate</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600 dark:text-green-400\" data-testid=\"stat-success-rate\">\n              {successRate}%\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              {successCount} successful, {failureCount} failed\n            </p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Failures (24h)</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className={`text-2xl font-bold ${failureCount > 0 ? \"text-red-600 dark:text-red-400\" : \"\"}`} data-testid=\"stat-failures\">\n              {failureCount}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"flex items-center gap-4 flex-wrap\">\n        <div className=\"relative flex-1 min-w-64\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n          <Input\n            placeholder=\"Search by job name...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            className=\"pl-10\"\n            data-testid=\"input-search-history\"\n          />\n        </div>\n        <Select value={statusFilter} onValueChange={setStatusFilter}>\n          <SelectTrigger className=\"w-40\" data-testid=\"select-history-filter\">\n            <Filter className=\"h-4 w-4 mr-2\" />\n            <SelectValue placeholder=\"Filter\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Status</SelectItem>\n            <SelectItem value=\"success\">Success</SelectItem>\n            <SelectItem value=\"failure\">Failure</SelectItem>\n            <SelectItem value=\"running\">Running</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      <ExecutionLogTable logs={filteredLogs} isLoading={isLoading} />\n    </div>\n  );\n}\n","path":null,"size_bytes":4312,"size_tokens":null},"client/src/components/job-form.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Globe, Webhook, Code, AlertCircle, Key, Lock } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { CronExpressionEditor } from \"@/components/cron-expression-editor\";\nimport { insertJobSchema, type InsertJob, type Job, httpMethods, authTypes } from \"@shared/schema\";\n\nconst formSchema = insertJobSchema.extend({\n  name: z.string().min(1, \"Job name is required\").max(100, \"Name too long\"),\n  cronExpression: z.string().min(1, \"Cron expression is required\"),\n});\n\ntype FormData = z.infer<typeof formSchema>;\n\ninterface JobFormProps {\n  initialData?: Job;\n  onSubmit: (data: InsertJob) => void;\n  isSubmitting: boolean;\n}\n\nconst defaultHttpConfig = {\n  type: \"http_request\" as const,\n  url: \"\",\n  method: \"GET\" as const,\n  headers: {},\n  body: \"\",\n  auth: { type: \"none\" as const },\n};\n\nconst defaultWebhookConfig = {\n  type: \"webhook\" as const,\n  url: \"\",\n  payload: \"\",\n};\n\nconst defaultScriptConfig = {\n  type: \"script\" as const,\n  code: \"// Your JavaScript code here\\nconsole.log('Hello, r4n!');\",\n  language: \"javascript\" as const,\n};\n\nexport function JobForm({ initialData, onSubmit, isSubmitting }: JobFormProps) {\n  const form = useForm<FormData>({\n    resolver: zodResolver(formSchema),\n    defaultValues: initialData ? {\n      name: initialData.name,\n      description: initialData.description || \"\",\n      cronExpression: initialData.cronExpression,\n      status: initialData.status,\n      action: initialData.action,\n      dependsOn: initialData.dependsOn || null,\n      notifyOnFailure: initialData.notifyOnFailure || false,\n      notificationWebhook: initialData.notificationWebhook || null,\n    } : {\n      name: \"\",\n      description: \"\",\n      cronExpression: \"0 * * * *\",\n      status: \"active\",\n      action: defaultHttpConfig,\n      dependsOn: null,\n      notifyOnFailure: false,\n      notificationWebhook: null,\n    },\n  });\n\n  const actionType = form.watch(\"action.type\");\n  const notifyOnFailure = form.watch(\"notifyOnFailure\");\n\n  const handleActionTypeChange = (type: string) => {\n    switch (type) {\n      case \"http_request\":\n        form.setValue(\"action\", defaultHttpConfig);\n        break;\n      case \"webhook\":\n        form.setValue(\"action\", defaultWebhookConfig);\n        break;\n      case \"script\":\n        form.setValue(\"action\", defaultScriptConfig);\n        break;\n    }\n  };\n\n  const handleSubmit = (data: FormData) => {\n    onSubmit(data);\n  };\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg\">Basic Information</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <FormField\n              control={form.control}\n              name=\"name\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Job Name</FormLabel>\n                  <FormControl>\n                    <Input\n                      placeholder=\"My Scheduled Task\"\n                      {...field}\n                      data-testid=\"input-job-name\"\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"description\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Description (Optional)</FormLabel>\n                  <FormControl>\n                    <Textarea\n                      placeholder=\"What does this job do?\"\n                      className=\"resize-none\"\n                      {...field}\n                      data-testid=\"input-job-description\"\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"status\"\n              render={({ field }) => (\n                <FormItem className=\"flex flex-row items-center justify-between rounded-lg border p-4\">\n                  <div className=\"space-y-0.5\">\n                    <FormLabel className=\"text-base\">Active</FormLabel>\n                    <FormDescription>\n                      Enable or disable this job\n                    </FormDescription>\n                  </div>\n                  <FormControl>\n                    <Switch\n                      checked={field.value === \"active\"}\n                      onCheckedChange={(checked) => field.onChange(checked ? \"active\" : \"paused\")}\n                      data-testid=\"switch-job-status\"\n                    />\n                  </FormControl>\n                </FormItem>\n              )}\n            />\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg\">Schedule</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <FormField\n              control={form.control}\n              name=\"cronExpression\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormControl>\n                    <CronExpressionEditor\n                      value={field.value}\n                      onChange={field.onChange}\n                      error={form.formState.errors.cronExpression?.message}\n                    />\n                  </FormControl>\n                </FormItem>\n              )}\n            />\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg\">Action</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <Tabs value={actionType} onValueChange={handleActionTypeChange}>\n              <TabsList className=\"grid w-full grid-cols-3\">\n                <TabsTrigger value=\"http_request\" className=\"gap-2\" data-testid=\"tab-http-request\">\n                  <Globe className=\"h-4 w-4\" />\n                  HTTP Request\n                </TabsTrigger>\n                <TabsTrigger value=\"webhook\" className=\"gap-2\" data-testid=\"tab-webhook\">\n                  <Webhook className=\"h-4 w-4\" />\n                  Webhook\n                </TabsTrigger>\n                <TabsTrigger value=\"script\" className=\"gap-2\" data-testid=\"tab-script\">\n                  <Code className=\"h-4 w-4\" />\n                  Script\n                </TabsTrigger>\n              </TabsList>\n\n              <TabsContent value=\"http_request\" className=\"space-y-4 mt-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                  <FormField\n                    control={form.control}\n                    name=\"action.method\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Method</FormLabel>\n                        <Select onValueChange={field.onChange} defaultValue={field.value}>\n                          <FormControl>\n                            <SelectTrigger data-testid=\"select-http-method\">\n                              <SelectValue placeholder=\"Method\" />\n                            </SelectTrigger>\n                          </FormControl>\n                          <SelectContent>\n                            {httpMethods.map((method) => (\n                              <SelectItem key={method} value={method}>\n                                {method}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <div className=\"md:col-span-3\">\n                    <FormField\n                      control={form.control}\n                      name=\"action.url\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>URL</FormLabel>\n                          <FormControl>\n                            <Input\n                              placeholder=\"https://api.example.com/endpoint\"\n                              {...field}\n                              data-testid=\"input-http-url\"\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                  </div>\n                </div>\n\n                <FormField\n                  control={form.control}\n                  name=\"action.body\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Request Body (Optional)</FormLabel>\n                      <FormControl>\n                        <Textarea\n                          placeholder='{\"key\": \"value\"}'\n                          className=\"font-mono text-sm resize-none min-h-24\"\n                          {...field}\n                          data-testid=\"input-http-body\"\n                        />\n                      </FormControl>\n                      <FormDescription>JSON body for POST/PUT/PATCH requests</FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <div className=\"border rounded-lg p-4 space-y-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <Lock className=\"h-4 w-4 text-muted-foreground\" />\n                    <Label className=\"text-base font-medium\">Authentication</Label>\n                  </div>\n\n                  <FormField\n                    control={form.control}\n                    name=\"action.auth.type\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Auth Type</FormLabel>\n                        <Select \n                          onValueChange={(value) => {\n                            if (value === \"none\") {\n                              form.setValue(\"action.auth\", { type: \"none\" });\n                            } else if (value === \"basic\") {\n                              form.setValue(\"action.auth\", { type: \"basic\", username: \"\", password: \"\" });\n                            } else if (value === \"bearer\") {\n                              form.setValue(\"action.auth\", { type: \"bearer\", token: \"\" });\n                            } else if (value === \"api_key\") {\n                              form.setValue(\"action.auth\", { type: \"api_key\", key: \"X-API-Key\", value: \"\", addTo: \"header\" });\n                            } else if (value === \"oauth2_client_credentials\") {\n                              form.setValue(\"action.auth\", { type: \"oauth2_client_credentials\", clientId: \"\", clientSecret: \"\", tokenUrl: \"\", scope: \"\" });\n                            }\n                          }} \n                          value={field.value || \"none\"}\n                        >\n                          <FormControl>\n                            <SelectTrigger data-testid=\"select-auth-type\">\n                              <SelectValue placeholder=\"Select authentication type\" />\n                            </SelectTrigger>\n                          </FormControl>\n                          <SelectContent>\n                            <SelectItem value=\"none\">No Authentication</SelectItem>\n                            <SelectItem value=\"basic\">Basic Auth</SelectItem>\n                            <SelectItem value=\"bearer\">Bearer Token</SelectItem>\n                            <SelectItem value=\"api_key\">API Key</SelectItem>\n                            <SelectItem value=\"oauth2_client_credentials\">OAuth2 Client Credentials</SelectItem>\n                          </SelectContent>\n                        </Select>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  {form.watch(\"action.auth.type\") === \"basic\" && (\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <FormField\n                        control={form.control}\n                        name=\"action.auth.username\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>Username</FormLabel>\n                            <FormControl>\n                              <Input\n                                placeholder=\"Username\"\n                                {...field}\n                                data-testid=\"input-auth-username\"\n                              />\n                            </FormControl>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                      <FormField\n                        control={form.control}\n                        name=\"action.auth.password\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>Password</FormLabel>\n                            <FormControl>\n                              <Input\n                                type=\"password\"\n                                placeholder=\"Password\"\n                                {...field}\n                                data-testid=\"input-auth-password\"\n                              />\n                            </FormControl>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                    </div>\n                  )}\n\n                  {form.watch(\"action.auth.type\") === \"bearer\" && (\n                    <FormField\n                      control={form.control}\n                      name=\"action.auth.token\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Bearer Token</FormLabel>\n                          <FormControl>\n                            <Input\n                              type=\"password\"\n                              placeholder=\"Enter your bearer token\"\n                              {...field}\n                              data-testid=\"input-auth-token\"\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                  )}\n\n                  {form.watch(\"action.auth.type\") === \"api_key\" && (\n                    <div className=\"space-y-4\">\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <FormField\n                          control={form.control}\n                          name=\"action.auth.key\"\n                          render={({ field }) => (\n                            <FormItem>\n                              <FormLabel>Key Name</FormLabel>\n                              <FormControl>\n                                <Input\n                                  placeholder=\"X-API-Key\"\n                                  {...field}\n                                  data-testid=\"input-auth-key-name\"\n                                />\n                              </FormControl>\n                              <FormMessage />\n                            </FormItem>\n                          )}\n                        />\n                        <FormField\n                          control={form.control}\n                          name=\"action.auth.value\"\n                          render={({ field }) => (\n                            <FormItem>\n                              <FormLabel>Key Value</FormLabel>\n                              <FormControl>\n                                <Input\n                                  type=\"password\"\n                                  placeholder=\"Your API key\"\n                                  {...field}\n                                  data-testid=\"input-auth-key-value\"\n                                />\n                              </FormControl>\n                              <FormMessage />\n                            </FormItem>\n                          )}\n                        />\n                      </div>\n                      <FormField\n                        control={form.control}\n                        name=\"action.auth.addTo\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>Add To</FormLabel>\n                            <Select onValueChange={field.onChange} value={field.value || \"header\"}>\n                              <FormControl>\n                                <SelectTrigger data-testid=\"select-auth-addto\">\n                                  <SelectValue />\n                                </SelectTrigger>\n                              </FormControl>\n                              <SelectContent>\n                                <SelectItem value=\"header\">Header</SelectItem>\n                                <SelectItem value=\"query\">Query Parameter</SelectItem>\n                              </SelectContent>\n                            </Select>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                    </div>\n                  )}\n\n                  {form.watch(\"action.auth.type\") === \"oauth2_client_credentials\" && (\n                    <div className=\"space-y-4\">\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <FormField\n                          control={form.control}\n                          name=\"action.auth.clientId\"\n                          render={({ field }) => (\n                            <FormItem>\n                              <FormLabel>Client ID</FormLabel>\n                              <FormControl>\n                                <Input\n                                  placeholder=\"Your client ID\"\n                                  {...field}\n                                  data-testid=\"input-auth-client-id\"\n                                />\n                              </FormControl>\n                              <FormMessage />\n                            </FormItem>\n                          )}\n                        />\n                        <FormField\n                          control={form.control}\n                          name=\"action.auth.clientSecret\"\n                          render={({ field }) => (\n                            <FormItem>\n                              <FormLabel>Client Secret</FormLabel>\n                              <FormControl>\n                                <Input\n                                  type=\"password\"\n                                  placeholder=\"Your client secret\"\n                                  {...field}\n                                  data-testid=\"input-auth-client-secret\"\n                                />\n                              </FormControl>\n                              <FormMessage />\n                            </FormItem>\n                          )}\n                        />\n                      </div>\n                      <FormField\n                        control={form.control}\n                        name=\"action.auth.tokenUrl\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>Token URL</FormLabel>\n                            <FormControl>\n                              <Input\n                                placeholder=\"https://auth.example.com/oauth/token\"\n                                {...field}\n                                data-testid=\"input-auth-token-url\"\n                              />\n                            </FormControl>\n                            <FormDescription>The OAuth2 token endpoint URL</FormDescription>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                      <FormField\n                        control={form.control}\n                        name=\"action.auth.scope\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>Scope (Optional)</FormLabel>\n                            <FormControl>\n                              <Input\n                                placeholder=\"read write\"\n                                {...field}\n                                data-testid=\"input-auth-scope\"\n                              />\n                            </FormControl>\n                            <FormDescription>Space-separated list of scopes</FormDescription>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                    </div>\n                  )}\n                </div>\n              </TabsContent>\n\n              <TabsContent value=\"webhook\" className=\"space-y-4 mt-4\">\n                <FormField\n                  control={form.control}\n                  name=\"action.url\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Webhook URL</FormLabel>\n                      <FormControl>\n                        <Input\n                          placeholder=\"https://hooks.example.com/webhook\"\n                          {...field}\n                          data-testid=\"input-webhook-url\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"action.payload\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Payload (Optional)</FormLabel>\n                      <FormControl>\n                        <Textarea\n                          placeholder='{\"message\": \"Hello from r4n!\"}'\n                          className=\"font-mono text-sm resize-none min-h-24\"\n                          {...field}\n                          data-testid=\"input-webhook-payload\"\n                        />\n                      </FormControl>\n                      <FormDescription>JSON payload to send with the webhook</FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </TabsContent>\n\n              <TabsContent value=\"script\" className=\"space-y-4 mt-4\">\n                <FormField\n                  control={form.control}\n                  name=\"action.code\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>JavaScript Code</FormLabel>\n                      <FormControl>\n                        <Textarea\n                          placeholder=\"console.log('Hello, world!');\"\n                          className=\"font-mono text-sm resize-none min-h-40\"\n                          {...field}\n                          data-testid=\"input-script-code\"\n                        />\n                      </FormControl>\n                      <FormDescription>\n                        Write JavaScript code to execute on schedule\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </TabsContent>\n            </Tabs>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg flex items-center gap-2\">\n              <AlertCircle className=\"h-5 w-5\" />\n              Notifications\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <FormField\n              control={form.control}\n              name=\"notifyOnFailure\"\n              render={({ field }) => (\n                <FormItem className=\"flex flex-row items-center justify-between rounded-lg border p-4\">\n                  <div className=\"space-y-0.5\">\n                    <FormLabel className=\"text-base\">Notify on Failure</FormLabel>\n                    <FormDescription>\n                      Send a webhook notification when this job fails\n                    </FormDescription>\n                  </div>\n                  <FormControl>\n                    <Switch\n                      checked={field.value}\n                      onCheckedChange={field.onChange}\n                      data-testid=\"switch-notify-failure\"\n                    />\n                  </FormControl>\n                </FormItem>\n              )}\n            />\n\n            {notifyOnFailure && (\n              <FormField\n                control={form.control}\n                name=\"notificationWebhook\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Notification Webhook URL</FormLabel>\n                    <FormControl>\n                      <Input\n                        placeholder=\"https://hooks.slack.com/services/...\"\n                        value={field.value || \"\"}\n                        onChange={field.onChange}\n                        data-testid=\"input-notification-webhook\"\n                      />\n                    </FormControl>\n                    <FormDescription>\n                      Slack, Discord, or custom webhook URL\n                    </FormDescription>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            )}\n          </CardContent>\n        </Card>\n\n        <div className=\"flex justify-end gap-4\">\n          <Button\n            type=\"submit\"\n            disabled={isSubmitting}\n            data-testid=\"button-submit-job\"\n          >\n            {isSubmitting ? \"Saving...\" : initialData ? \"Update Job\" : \"Create Job\"}\n          </Button>\n        </div>\n      </form>\n    </Form>\n  );\n}\n","path":null,"size_bytes":26781,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3895,"size_tokens":null},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { ThemeProvider } from \"@/components/theme-provider\";\nimport { ThemeToggle } from \"@/components/theme-toggle\";\nimport { SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\nimport { AppSidebar } from \"@/components/app-sidebar\";\nimport Dashboard from \"@/pages/dashboard\";\nimport Jobs from \"@/pages/jobs\";\nimport JobFormPage from \"@/pages/job-form-page\";\nimport History from \"@/pages/history\";\nimport Templates from \"@/pages/templates\";\nimport Workflows from \"@/pages/workflows\";\nimport Settings from \"@/pages/settings\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Dashboard} />\n      <Route path=\"/jobs\" component={Jobs} />\n      <Route path=\"/jobs/new\" component={JobFormPage} />\n      <Route path=\"/jobs/:id/edit\" component={JobFormPage} />\n      <Route path=\"/history\" component={History} />\n      <Route path=\"/templates\" component={Templates} />\n      <Route path=\"/workflows\" component={Workflows} />\n      <Route path=\"/settings\" component={Settings} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  const sidebarStyle = {\n    \"--sidebar-width\": \"16rem\",\n    \"--sidebar-width-icon\": \"3rem\",\n  };\n\n  return (\n    <ThemeProvider defaultTheme=\"system\" storageKey=\"cronmaster-theme\">\n      <QueryClientProvider client={queryClient}>\n        <TooltipProvider>\n          <SidebarProvider style={sidebarStyle as React.CSSProperties}>\n            <div className=\"flex h-screen w-full\">\n              <AppSidebar />\n              <div className=\"flex flex-col flex-1 overflow-hidden\">\n                <header className=\"flex h-14 items-center justify-between gap-4 border-b px-4 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n                  <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n                  <ThemeToggle />\n                </header>\n                <main className=\"flex-1 overflow-auto\">\n                  <Router />\n                </main>\n              </div>\n            </div>\n          </SidebarProvider>\n          <Toaster />\n        </TooltipProvider>\n      </QueryClientProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","path":null,"size_bytes":2479,"size_tokens":null},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n  --opaque-button-border-intensity: -8;\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n  --background: 210 6% 98%;\n  --foreground: 210 6% 12%;\n  --border: 210 6% 90%;\n  --card: 210 6% 96%;\n  --card-foreground: 210 6% 12%;\n  --card-border: 210 6% 92%;\n  --sidebar: 210 6% 94%;\n  --sidebar-foreground: 210 6% 12%;\n  --sidebar-border: 210 6% 88%;\n  --sidebar-primary: 210 85% 42%;\n  --sidebar-primary-foreground: 210 85% 98%;\n  --sidebar-accent: 210 12% 86%;\n  --sidebar-accent-foreground: 210 12% 18%;\n  --sidebar-ring: 210 85% 42%;\n  --popover: 210 6% 92%;\n  --popover-foreground: 210 6% 12%;\n  --popover-border: 210 6% 86%;\n  --primary: 210 85% 42%;\n  --primary-foreground: 210 85% 98%;\n  --secondary: 210 8% 84%;\n  --secondary-foreground: 210 8% 16%;\n  --muted: 210 10% 88%;\n  --muted-foreground: 210 10% 28%;\n  --accent: 210 12% 90%;\n  --accent-foreground: 210 12% 18%;\n  --destructive: 0 84% 45%;\n  --destructive-foreground: 0 84% 98%;\n  --input: 210 6% 80%;\n  --ring: 210 85% 42%;\n  --chart-1: 210 85% 38%;\n  --chart-2: 180 75% 35%;\n  --chart-3: 240 65% 42%;\n  --chart-4: 30 80% 45%;\n  --chart-5: 280 70% 40%;\n  --font-sans: Inter, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: JetBrains Mono, monospace;\n  --radius: .5rem;\n  --shadow-2xs: 0px 2px 0px 0px hsl(210 6% 12% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(210 6% 12% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(210 6% 12% / 0.00), 0px 1px 2px -1px hsl(210 6% 12% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(210 6% 12% / 0.00), 0px 1px 2px -1px hsl(210 6% 12% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(210 6% 12% / 0.00), 0px 2px 4px -1px hsl(210 6% 12% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(210 6% 12% / 0.00), 0px 4px 6px -1px hsl(210 6% 12% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(210 6% 12% / 0.00), 0px 8px 10px -1px hsl(210 6% 12% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(210 6% 12% / 0.00);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n  --opaque-button-border-intensity: 9;\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n  --background: 210 6% 8%;\n  --foreground: 210 6% 95%;\n  --border: 210 6% 18%;\n  --card: 210 6% 10%;\n  --card-foreground: 210 6% 95%;\n  --card-border: 210 6% 14%;\n  --sidebar: 210 6% 12%;\n  --sidebar-foreground: 210 6% 95%;\n  --sidebar-border: 210 6% 16%;\n  --sidebar-primary: 210 85% 52%;\n  --sidebar-primary-foreground: 210 85% 98%;\n  --sidebar-accent: 210 12% 18%;\n  --sidebar-accent-foreground: 210 12% 90%;\n  --sidebar-ring: 210 85% 52%;\n  --popover: 210 6% 14%;\n  --popover-foreground: 210 6% 95%;\n  --popover-border: 210 6% 20%;\n  --primary: 210 85% 45%;\n  --primary-foreground: 210 85% 98%;\n  --secondary: 210 8% 20%;\n  --secondary-foreground: 210 8% 92%;\n  --muted: 210 10% 22%;\n  --muted-foreground: 210 10% 78%;\n  --accent: 210 12% 16%;\n  --accent-foreground: 210 12% 88%;\n  --destructive: 0 84% 42%;\n  --destructive-foreground: 0 84% 98%;\n  --input: 210 6% 28%;\n  --ring: 210 85% 52%;\n  --chart-1: 210 85% 68%;\n  --chart-2: 180 75% 72%;\n  --chart-3: 240 65% 75%;\n  --chart-4: 30 80% 70%;\n  --chart-5: 280 70% 72%;\n  --shadow-2xs: 0px 2px 0px 0px hsl(210 6% 95% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(210 6% 95% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(210 6% 95% / 0.00), 0px 1px 2px -1px hsl(210 6% 95% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(210 6% 95% / 0.00), 0px 1px 2px -1px hsl(210 6% 95% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(210 6% 95% / 0.00), 0px 2px 4px -1px hsl(210 6% 95% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(210 6% 95% / 0.00), 0px 4px 6px -1px hsl(210 6% 95% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(210 6% 95% / 0.00), 0px 8px 10px -1px hsl(210 6% 95% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(210 6% 95% / 0.00);\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}\n","path":null,"size_bytes":10725,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4120,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4281,"size_tokens":null},"replit.md":{"content":"# r4n - Cron Job Management Platform\n\n## Overview\n\nA full-stack web application for managing and monitoring scheduled cron jobs. The platform allows users to create, schedule, and monitor automated tasks that can make HTTP requests, trigger webhooks, or execute scripts on configurable schedules. Built with a modern React frontend and Express backend, featuring real-time job status tracking and execution history.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n- **Framework**: React 18 with TypeScript\n- **Routing**: Wouter (lightweight React router)\n- **State Management**: TanStack React Query for server state caching and synchronization\n- **UI Components**: shadcn/ui component library built on Radix UI primitives\n- **Styling**: Tailwind CSS with CSS custom properties for theming (light/dark mode support)\n- **Build Tool**: Vite with hot module replacement\n\nThe frontend follows a page-based structure with reusable components. Key pages include Dashboard, Jobs management, History, Templates, and Settings. The design system draws from Linear's UI patterns with a focus on information density and clear status indicators.\n\n### Backend Architecture\n- **Runtime**: Node.js with Express\n- **Language**: TypeScript with ES modules\n- **API Design**: RESTful JSON API under `/api` prefix\n- **Scheduling**: node-cron for job scheduling\n- **Storage**: In-memory storage with interface abstraction (IStorage) allowing easy swap to persistent database\n\nThe server uses a modular structure with separate files for routes, storage, and static file serving. In development, Vite middleware handles the frontend; in production, pre-built static files are served.\n\n### Data Models\nDefined in `shared/schema.ts` using Zod for validation:\n- **Jobs**: Scheduled tasks with cron expressions and action configurations\n- **ExecutionLogs**: Historical record of job runs with status, duration, and output\n- **Stats**: Aggregated metrics for dashboard display\n\nJob actions support three types:\n- HTTP requests (configurable method, headers, body)\n- Webhooks (URL + payload)\n- Scripts (JavaScript code execution)\n\n### Database Configuration\n- **ORM**: Drizzle ORM configured for PostgreSQL\n- **Schema Location**: `shared/schema.ts`\n- **Migrations**: Output to `./migrations` directory\n- **Connection**: Requires `DATABASE_URL` environment variable\n\nNote: The current implementation uses PostgreSQL for persistent storage with full Drizzle ORM integration.\n\n### Workflow System\nThe platform includes a workflow feature for chaining multiple jobs together:\n- **Workflows**: Multi-step automated processes that chain HTTP requests, webhooks, or scripts\n- **Variable Substitution**: Use `{{variableName}}` syntax to pass data between steps\n- **Step Execution**: Each step creates its own execution log for auditability\n- **Output Mapping**: Steps can store their output in named variables for use by subsequent steps\n\nAPI endpoints:\n- `GET/POST /api/workflows` - List and create workflows\n- `GET/PATCH/DELETE /api/workflows/:id` - Manage individual workflows\n- `POST /api/workflows/:id/run` - Execute a workflow manually\n- `GET /api/workflow-executions` - List workflow execution history\n\n### Build System\n- **Development**: `tsx` for TypeScript execution with Vite dev server\n- **Production Build**: Custom build script using esbuild for server and Vite for client\n- **Output**: Server bundle at `dist/index.cjs`, client assets at `dist/public`\n\n## External Dependencies\n\n### Core Runtime\n- **PostgreSQL**: Database (via Drizzle ORM and `connect-pg-simple` for sessions)\n- **node-cron**: Cron expression parsing and job scheduling\n\n### Frontend Libraries\n- **@tanstack/react-query**: Server state management\n- **cronstrue**: Human-readable cron expression descriptions\n- **date-fns**: Date formatting utilities\n- **react-hook-form** + **zod**: Form handling with schema validation\n\n### UI Framework\n- **Radix UI**: Accessible component primitives (dialog, dropdown, tabs, etc.)\n- **Tailwind CSS**: Utility-first styling\n- **class-variance-authority**: Component variant management\n- **lucide-react**: Icon library\n\n### Development Tools\n- **Vite**: Frontend build and dev server\n- **esbuild**: Server bundling for production\n- **TypeScript**: Type checking across the codebase\n- **drizzle-kit**: Database schema management","path":null,"size_bytes":4389,"size_tokens":null},"client/src/pages/job-form-page.tsx":{"content":"import { useLocation, useParams } from \"wouter\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { ArrowLeft } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { JobForm } from \"@/components/job-form\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport type { Job, InsertJob } from \"@shared/schema\";\n\nexport default function JobFormPage() {\n  const params = useParams<{ id?: string }>();\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const isEditing = !!params.id;\n\n  const { data: job, isLoading } = useQuery<Job>({\n    queryKey: [\"/api/jobs\", params.id],\n    enabled: isEditing,\n  });\n\n  const createMutation = useMutation({\n    mutationFn: async (data: InsertJob) => {\n      return apiRequest(\"POST\", \"/api/jobs\", data);\n    },\n    onSuccess: () => {\n      toast({ title: \"Job created\", description: \"Your job has been scheduled\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/jobs\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/stats\"] });\n      navigate(\"/jobs\");\n    },\n    onError: (error: Error) => {\n      toast({ title: \"Failed to create job\", description: error.message, variant: \"destructive\" });\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: async (data: InsertJob) => {\n      return apiRequest(\"PATCH\", `/api/jobs/${params.id}`, data);\n    },\n    onSuccess: () => {\n      toast({ title: \"Job updated\", description: \"Your changes have been saved\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/jobs\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/jobs\", params.id] });\n      navigate(\"/jobs\");\n    },\n    onError: (error: Error) => {\n      toast({ title: \"Failed to update job\", description: error.message, variant: \"destructive\" });\n    },\n  });\n\n  const handleSubmit = (data: InsertJob) => {\n    if (isEditing) {\n      updateMutation.mutate(data);\n    } else {\n      createMutation.mutate(data);\n    }\n  };\n\n  if (isEditing && isLoading) {\n    return (\n      <div className=\"space-y-6 p-6\">\n        <div className=\"flex items-center gap-4\">\n          <Skeleton className=\"h-9 w-9\" />\n          <Skeleton className=\"h-8 w-48\" />\n        </div>\n        <Card>\n          <CardContent className=\"p-6 space-y-4\">\n            <Skeleton className=\"h-10 w-full\" />\n            <Skeleton className=\"h-24 w-full\" />\n            <Skeleton className=\"h-40 w-full\" />\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6 p-6 max-w-4xl mx-auto\">\n      <div className=\"flex items-center gap-4\">\n        <Button variant=\"ghost\" size=\"icon\" onClick={() => navigate(\"/jobs\")} data-testid=\"button-back\">\n          <ArrowLeft className=\"h-4 w-4\" />\n        </Button>\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">\n            {isEditing ? \"Edit Job\" : \"Create Job\"}\n          </h1>\n          <p className=\"text-muted-foreground\">\n            {isEditing ? \"Update your scheduled task\" : \"Set up a new scheduled task\"}\n          </p>\n        </div>\n      </div>\n\n      <JobForm\n        initialData={job}\n        onSubmit={handleSubmit}\n        isSubmitting={createMutation.isPending || updateMutation.isPending}\n      />\n    </div>\n  );\n}\n","path":null,"size_bytes":3438,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":261,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2765,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","path":null,"size_bytes":1904,"size_tokens":null},"client/src/components/cron-expression-editor.tsx":{"content":"import { useState, useEffect, useMemo } from \"react\";\nimport { Clock, Calendar, HelpCircle } from \"lucide-react\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport cronstrue from \"cronstrue\";\n\ninterface CronExpressionEditorProps {\n  value: string;\n  onChange: (value: string) => void;\n  error?: string;\n}\n\nconst presets = [\n  { label: \"Every minute\", cron: \"* * * * *\" },\n  { label: \"Every 5 minutes\", cron: \"*/5 * * * *\" },\n  { label: \"Every 15 minutes\", cron: \"*/15 * * * *\" },\n  { label: \"Every hour\", cron: \"0 * * * *\" },\n  { label: \"Every day at midnight\", cron: \"0 0 * * *\" },\n  { label: \"Every day at 9 AM\", cron: \"0 9 * * *\" },\n  { label: \"Every Monday at 9 AM\", cron: \"0 9 * * 1\" },\n  { label: \"Every weekday at 9 AM\", cron: \"0 9 * * 1-5\" },\n  { label: \"First of every month\", cron: \"0 0 1 * *\" },\n];\n\nconst minuteOptions = [\n  { value: \"*\", label: \"Every minute\" },\n  { value: \"0\", label: \"At minute 0\" },\n  { value: \"15\", label: \"At minute 15\" },\n  { value: \"30\", label: \"At minute 30\" },\n  { value: \"45\", label: \"At minute 45\" },\n  { value: \"*/5\", label: \"Every 5 minutes\" },\n  { value: \"*/10\", label: \"Every 10 minutes\" },\n  { value: \"*/15\", label: \"Every 15 minutes\" },\n  { value: \"*/30\", label: \"Every 30 minutes\" },\n];\n\nconst hourOptions = [\n  { value: \"*\", label: \"Every hour\" },\n  { value: \"0\", label: \"Midnight (0)\" },\n  { value: \"6\", label: \"6 AM\" },\n  { value: \"9\", label: \"9 AM\" },\n  { value: \"12\", label: \"Noon (12)\" },\n  { value: \"15\", label: \"3 PM\" },\n  { value: \"18\", label: \"6 PM\" },\n  { value: \"21\", label: \"9 PM\" },\n  { value: \"*/2\", label: \"Every 2 hours\" },\n  { value: \"*/4\", label: \"Every 4 hours\" },\n  { value: \"*/6\", label: \"Every 6 hours\" },\n  { value: \"*/12\", label: \"Every 12 hours\" },\n];\n\nconst dayOfMonthOptions = [\n  { value: \"*\", label: \"Every day\" },\n  { value: \"1\", label: \"1st\" },\n  { value: \"15\", label: \"15th\" },\n  { value: \"L\", label: \"Last day\" },\n];\n\nconst monthOptions = [\n  { value: \"*\", label: \"Every month\" },\n  { value: \"1\", label: \"January\" },\n  { value: \"2\", label: \"February\" },\n  { value: \"3\", label: \"March\" },\n  { value: \"4\", label: \"April\" },\n  { value: \"5\", label: \"May\" },\n  { value: \"6\", label: \"June\" },\n  { value: \"7\", label: \"July\" },\n  { value: \"8\", label: \"August\" },\n  { value: \"9\", label: \"September\" },\n  { value: \"10\", label: \"October\" },\n  { value: \"11\", label: \"November\" },\n  { value: \"12\", label: \"December\" },\n];\n\nconst dayOfWeekOptions = [\n  { value: \"*\", label: \"Every day\" },\n  { value: \"0\", label: \"Sunday\" },\n  { value: \"1\", label: \"Monday\" },\n  { value: \"2\", label: \"Tuesday\" },\n  { value: \"3\", label: \"Wednesday\" },\n  { value: \"4\", label: \"Thursday\" },\n  { value: \"5\", label: \"Friday\" },\n  { value: \"6\", label: \"Saturday\" },\n  { value: \"1-5\", label: \"Weekdays (Mon-Fri)\" },\n  { value: \"0,6\", label: \"Weekends (Sat-Sun)\" },\n];\n\nfunction parseCronParts(cron: string): { minute: string; hour: string; dayOfMonth: string; month: string; dayOfWeek: string } {\n  const parts = cron.trim().split(/\\s+/);\n  return {\n    minute: parts[0] || \"*\",\n    hour: parts[1] || \"*\",\n    dayOfMonth: parts[2] || \"*\",\n    month: parts[3] || \"*\",\n    dayOfWeek: parts[4] || \"*\",\n  };\n}\n\nfunction getNextRuns(cron: string, count: number = 5): Date[] {\n  try {\n    const parts = parseCronParts(cron);\n    const now = new Date();\n    const dates: Date[] = [];\n    let current = new Date(now);\n    \n    for (let i = 0; i < 1000 && dates.length < count; i++) {\n      current = new Date(current.getTime() + 60000);\n      \n      const minute = current.getMinutes();\n      const hour = current.getHours();\n      const dayOfMonth = current.getDate();\n      const month = current.getMonth() + 1;\n      const dayOfWeek = current.getDay();\n      \n      if (matchesCronPart(parts.minute, minute) &&\n          matchesCronPart(parts.hour, hour) &&\n          matchesCronPart(parts.dayOfMonth, dayOfMonth) &&\n          matchesCronPart(parts.month, month) &&\n          matchesCronPart(parts.dayOfWeek, dayOfWeek)) {\n        dates.push(new Date(current));\n      }\n    }\n    \n    return dates;\n  } catch {\n    return [];\n  }\n}\n\nfunction matchesCronPart(pattern: string, value: number): boolean {\n  if (pattern === \"*\") return true;\n  if (pattern === \"L\") return true;\n  \n  if (pattern.includes(\"/\")) {\n    const [, step] = pattern.split(\"/\");\n    return value % parseInt(step, 10) === 0;\n  }\n  \n  if (pattern.includes(\"-\")) {\n    const [start, end] = pattern.split(\"-\").map(Number);\n    return value >= start && value <= end;\n  }\n  \n  if (pattern.includes(\",\")) {\n    return pattern.split(\",\").map(Number).includes(value);\n  }\n  \n  return parseInt(pattern, 10) === value;\n}\n\nexport function CronExpressionEditor({ value, onChange, error }: CronExpressionEditorProps) {\n  const [mode, setMode] = useState<\"visual\" | \"raw\">(\"visual\");\n  const parts = useMemo(() => parseCronParts(value), [value]);\n\n  const handlePartChange = (part: keyof typeof parts, newValue: string) => {\n    const newParts = { ...parts, [part]: newValue };\n    const newCron = `${newParts.minute} ${newParts.hour} ${newParts.dayOfMonth} ${newParts.month} ${newParts.dayOfWeek}`;\n    onChange(newCron);\n  };\n\n  let description = \"\";\n  let isValid = true;\n  try {\n    description = cronstrue.toString(value);\n  } catch {\n    description = \"Invalid cron expression\";\n    isValid = false;\n  }\n\n  const nextRuns = useMemo(() => getNextRuns(value), [value]);\n\n  return (\n    <div className=\"space-y-4\">\n      <Tabs value={mode} onValueChange={(v) => setMode(v as \"visual\" | \"raw\")}>\n        <TabsList className=\"grid w-full grid-cols-2\">\n          <TabsTrigger value=\"visual\" data-testid=\"tab-visual\">Visual Builder</TabsTrigger>\n          <TabsTrigger value=\"raw\" data-testid=\"tab-raw\">Raw Expression</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"visual\" className=\"space-y-4 mt-4\">\n          <div className=\"grid grid-cols-2 md:grid-cols-5 gap-3\">\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                Minute\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <HelpCircle className=\"h-3 w-3\" />\n                  </TooltipTrigger>\n                  <TooltipContent>0-59, * for every minute</TooltipContent>\n                </Tooltip>\n              </Label>\n              <Select value={parts.minute} onValueChange={(v) => handlePartChange(\"minute\", v)}>\n                <SelectTrigger data-testid=\"select-minute\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {minuteOptions.map((opt) => (\n                    <SelectItem key={opt.value} value={opt.value}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                Hour\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <HelpCircle className=\"h-3 w-3\" />\n                  </TooltipTrigger>\n                  <TooltipContent>0-23, * for every hour</TooltipContent>\n                </Tooltip>\n              </Label>\n              <Select value={parts.hour} onValueChange={(v) => handlePartChange(\"hour\", v)}>\n                <SelectTrigger data-testid=\"select-hour\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {hourOptions.map((opt) => (\n                    <SelectItem key={opt.value} value={opt.value}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                Day\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <HelpCircle className=\"h-3 w-3\" />\n                  </TooltipTrigger>\n                  <TooltipContent>1-31, * for every day</TooltipContent>\n                </Tooltip>\n              </Label>\n              <Select value={parts.dayOfMonth} onValueChange={(v) => handlePartChange(\"dayOfMonth\", v)}>\n                <SelectTrigger data-testid=\"select-day\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {dayOfMonthOptions.map((opt) => (\n                    <SelectItem key={opt.value} value={opt.value}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                Month\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <HelpCircle className=\"h-3 w-3\" />\n                  </TooltipTrigger>\n                  <TooltipContent>1-12, * for every month</TooltipContent>\n                </Tooltip>\n              </Label>\n              <Select value={parts.month} onValueChange={(v) => handlePartChange(\"month\", v)}>\n                <SelectTrigger data-testid=\"select-month\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {monthOptions.map((opt) => (\n                    <SelectItem key={opt.value} value={opt.value}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                Weekday\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <HelpCircle className=\"h-3 w-3\" />\n                  </TooltipTrigger>\n                  <TooltipContent>0-6 (Sun-Sat), * for any day</TooltipContent>\n                </Tooltip>\n              </Label>\n              <Select value={parts.dayOfWeek} onValueChange={(v) => handlePartChange(\"dayOfWeek\", v)}>\n                <SelectTrigger data-testid=\"select-weekday\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {dayOfWeekOptions.map((opt) => (\n                    <SelectItem key={opt.value} value={opt.value}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label className=\"text-xs text-muted-foreground\">Quick Presets</Label>\n            <div className=\"flex flex-wrap gap-2\">\n              {presets.map((preset) => (\n                <Badge\n                  key={preset.cron}\n                  variant={value === preset.cron ? \"default\" : \"outline\"}\n                  className=\"cursor-pointer\"\n                  onClick={() => onChange(preset.cron)}\n                  data-testid={`preset-${preset.cron.replace(/\\s/g, \"-\")}`}\n                >\n                  {preset.label}\n                </Badge>\n              ))}\n            </div>\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"raw\" className=\"space-y-4 mt-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"cron-raw\" className=\"text-sm font-medium\">\n              Cron Expression\n            </Label>\n            <Input\n              id=\"cron-raw\"\n              value={value}\n              onChange={(e) => onChange(e.target.value)}\n              placeholder=\"* * * * *\"\n              className={`font-mono ${error || !isValid ? \"border-destructive\" : \"\"}`}\n              data-testid=\"input-cron-raw\"\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              Format: minute hour day-of-month month day-of-week\n            </p>\n          </div>\n        </TabsContent>\n      </Tabs>\n\n      <div className=\"p-4 bg-muted rounded-md space-y-3\">\n        <div className=\"flex items-center gap-2\">\n          <Clock className=\"h-4 w-4 text-muted-foreground\" />\n          <span className={`text-sm font-medium ${!isValid ? \"text-destructive\" : \"\"}`}>\n            {description}\n          </span>\n        </div>\n\n        {isValid && nextRuns.length > 0 && (\n          <div className=\"space-y-1\">\n            <p className=\"text-xs text-muted-foreground flex items-center gap-1\">\n              <Calendar className=\"h-3 w-3\" />\n              Next 5 runs:\n            </p>\n            <div className=\"grid gap-1\">\n              {nextRuns.map((date, i) => (\n                <span key={i} className=\"text-xs text-muted-foreground font-mono\">\n                  {date.toLocaleString()}\n                </span>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {error && <p className=\"text-sm text-destructive\">{error}</p>}\n    </div>\n  );\n}\n","path":null,"size_bytes":13532,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":1080,"size_tokens":null},"design_guidelines.md":{"content":"# Design Guidelines: Cron Job Management Platform\n\n## Design Approach\n\n**Selected Approach**: Design System with Modern Developer Tool Inspiration\n\nDrawing from Linear's exceptional UI patterns and Material Design's data visualization principles, optimized for technical users who value clarity, efficiency, and information density.\n\n**Key Design Principles**:\n- Information hierarchy: Critical job status always visible\n- Scan-optimized layouts: Quick recognition of job states\n- Minimal cognitive load: Clear visual language for success/failure/running states\n- Purposeful density: Maximize useful information without clutter\n\n## Typography System\n\n**Font Families** (Google Fonts):\n- Primary: Inter (weights: 400, 500, 600, 700)\n- Monospace: JetBrains Mono (weights: 400, 500) - for cron expressions, code snippets\n\n**Type Scale**:\n- Page titles: text-3xl font-bold (30px)\n- Section headers: text-xl font-semibold (20px)\n- Card titles: text-base font-semibold (16px)\n- Body text: text-sm (14px)\n- Metadata/timestamps: text-xs (12px)\n- Cron expressions: font-mono text-sm\n\n## Layout System\n\n**Spacing Primitives**: Use Tailwind units of 2, 3, 4, 6, 8, 12, and 16\n- Micro spacing (between related items): space-y-2, gap-2\n- Component padding: p-4, p-6\n- Section spacing: space-y-8, mb-12\n- Page margins: px-6 md:px-8\n\n**Grid System**:\n- Dashboard: 3-column grid on desktop (grid-cols-3), 1-column on mobile\n- Job cards: 2-column on tablet (md:grid-cols-2), single column mobile\n- Execution history: Full-width table layout\n\n## Application Structure\n\n### Navigation & Header\n- Fixed top navigation bar (h-16) with app logo, search bar, and user menu\n- Left sidebar (w-64) with navigation: Dashboard, Active Jobs, History, Settings\n- Sidebar collapsible on smaller screens\n\n### Main Dashboard Layout\nThree-panel layout:\n1. **Stats Overview** (top): 4 metric cards showing Total Jobs, Active, Failed (24h), Next Execution\n2. **Active Jobs Grid** (center): Card-based grid displaying all scheduled jobs\n3. **Recent Activity** (bottom): Compact list of last 10 executions\n\n### Job Card Components\nCompact cards (min-h-32) containing:\n- Job name (font-semibold, truncate)\n- Cron expression in monospace with human-readable translation below\n- Status badge (small pill shape, uppercase text-xs)\n- Next run time with relative timestamp\n- Quick action buttons: Edit, Run Now, Enable/Disable toggle\n- Visual indicator: left border (w-1) showing job status\n\n### Workflow Builder Interface\nSplit view layout:\n- **Left Panel** (w-80): Draggable node library organized by category\n- **Center Canvas** (flex-1): Infinite canvas for node placement with grid background\n- **Right Panel** (w-96): Node configuration form when node selected\n\n**Node Design**:\n- Rounded rectangles (rounded-lg) with connection points\n- Icon + label layout, compact size (min-w-40)\n- Visual connectors: curved lines between nodes\n- Selected state: subtle border glow effect\n\n### Execution History View\nTable layout with:\n- Column headers: Job Name, Status, Start Time, Duration, Actions\n- Row height: h-12 for comfortable scanning\n- Alternating row backgrounds for readability\n- Expandable rows showing full output/error logs\n- Filter toolbar above table: Date range, Status filter, Search\n\n### Cron Expression Editor\nSplit display:\n- Visual segment builder (top): Separate inputs for minute, hour, day, month, weekday\n- Raw expression input (bottom): Monospace text field with syntax validation\n- Live preview: \"Next 5 run times\" list updating as user edits\n\n## Component Library\n\n### Buttons\n- Primary: Solid with rounded-md, font-medium, px-4 py-2\n- Secondary: Border with transparent background\n- Danger: For delete actions\n- Icon buttons: square (w-8 h-8), rounded-md\n\n### Status Badges\nSmall pills (px-2 py-1, rounded-full, text-xs, font-medium):\n- Running: Animated pulse effect\n- Success: Static\n- Failed: Static\n- Paused: Muted treatment\n\n### Form Inputs\n- Standard height: h-10\n- Rounded corners: rounded-md\n- Label above input: text-sm font-medium, mb-2\n- Monospace for code/expression inputs\n\n### Modal Overlays\n- Centered modal (max-w-2xl) with backdrop blur\n- Modal header: sticky with close button\n- Modal content: max-h-[80vh] with scroll\n- Modal actions: sticky footer with button group\n\n### Data Visualization\n- Execution timeline: Horizontal bar chart showing job runs over 24h\n- Success rate: Circular progress indicator\n- Activity heatmap: Calendar view for historical executions\n\n## Images\n\n**No large hero image** - this is a productivity dashboard focused on functionality.\n\n**Icon Usage**: Use Heroicons (outline style) via CDN throughout the interface for:\n- Navigation items\n- Action buttons\n- Status indicators\n- Empty states\n\n**Empty State Illustrations**: Simple SVG illustrations for:\n- No jobs created yet\n- No execution history\n- Search with no results\n\nEach illustration should be centered (max-w-xs mx-auto) with explanatory text below.\n\n## Animations\n\nMinimal, performance-focused animations:\n- Fade-in for modal overlays (duration-200)\n- Slide-in for sidebar on mobile (duration-300)\n- Pulse animation for \"running\" status only\n- Smooth transitions for hover states (transition-colors duration-150)\n\n**No complex animations** - maintain snappy, responsive feel for technical users.","path":null,"size_bytes":5281,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":710,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4845,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10481,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1139,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4420,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1883,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null},"client/src/components/execution-log-table.tsx":{"content":"import { useState } from \"react\";\nimport { ChevronDown, ChevronRight, CheckCircle2, XCircle, Loader2, Clock } from \"lucide-react\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport type { ExecutionLog } from \"@shared/schema\";\nimport { format, formatDistanceToNow } from \"date-fns\";\n\ninterface ExecutionLogTableProps {\n  logs: ExecutionLog[];\n  isLoading: boolean;\n  limit?: number;\n}\n\nconst statusConfig = {\n  success: {\n    icon: CheckCircle2,\n    badge: \"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20\",\n  },\n  failure: {\n    icon: XCircle,\n    badge: \"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20\",\n  },\n  running: {\n    icon: Loader2,\n    badge: \"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20\",\n  },\n};\n\nfunction formatDuration(ms: number | null): string {\n  if (ms === null) return \"-\";\n  if (ms < 1000) return `${ms}ms`;\n  if (ms < 60000) return `${(ms / 1000).toFixed(1)}s`;\n  return `${(ms / 60000).toFixed(1)}m`;\n}\n\nfunction LogRow({ log }: { log: ExecutionLog }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const config = statusConfig[log.status];\n  const StatusIcon = config.icon;\n  const hasDetails = log.output || log.error;\n\n  return (\n    <>\n      <TableRow className=\"group\" data-testid={`log-row-${log.id}`}>\n        <TableCell className=\"w-8\">\n          {hasDetails && (\n            <Button \n              variant=\"ghost\" \n              size=\"icon\" \n              className=\"h-6 w-6\" \n              data-testid={`button-expand-${log.id}`}\n              onClick={() => setIsOpen(!isOpen)}\n            >\n              {isOpen ? (\n                <ChevronDown className=\"h-4 w-4\" />\n              ) : (\n                <ChevronRight className=\"h-4 w-4\" />\n              )}\n            </Button>\n          )}\n        </TableCell>\n        <TableCell className=\"font-medium\">{log.jobName}</TableCell>\n        <TableCell>\n          <Badge variant=\"outline\" className={`${config.badge} uppercase text-xs`}>\n            <StatusIcon className={`h-3 w-3 mr-1 ${log.status === \"running\" ? \"animate-spin\" : \"\"}`} />\n            {log.status}\n          </Badge>\n        </TableCell>\n        <TableCell className=\"text-muted-foreground\">\n          <div className=\"flex items-center gap-1\">\n            <Clock className=\"h-3 w-3\" />\n            <span className=\"text-sm\">\n              {formatDistanceToNow(new Date(log.startTime), { addSuffix: true })}\n            </span>\n          </div>\n        </TableCell>\n        <TableCell className=\"text-right font-mono text-sm text-muted-foreground\">\n          {formatDuration(log.duration)}\n        </TableCell>\n      </TableRow>\n      {hasDetails && isOpen && (\n        <TableRow>\n          <TableCell colSpan={5} className=\"bg-muted/50 p-0\">\n            <div className=\"p-4 space-y-2\">\n              <div className=\"flex items-center gap-2 text-xs text-muted-foreground mb-2\">\n                <span>Started: {format(new Date(log.startTime), \"PPpp\")}</span>\n                {log.endTime && (\n                  <>\n                    <span className=\"text-muted-foreground/50\">|</span>\n                    <span>Ended: {format(new Date(log.endTime), \"PPpp\")}</span>\n                  </>\n                )}\n              </div>\n              {log.output && (\n                <div className=\"space-y-1\">\n                  <p className=\"text-xs font-medium text-muted-foreground\">Output:</p>\n                  <ScrollArea className=\"h-32\">\n                    <pre className=\"text-xs font-mono bg-background p-3 rounded-md border whitespace-pre-wrap\">\n                      {log.output}\n                    </pre>\n                  </ScrollArea>\n                </div>\n              )}\n              {log.error && (\n                <div className=\"space-y-1\">\n                  <p className=\"text-xs font-medium text-destructive\">Error:</p>\n                  <ScrollArea className=\"h-32\">\n                    <pre className=\"text-xs font-mono bg-destructive/10 text-destructive p-3 rounded-md border border-destructive/20 whitespace-pre-wrap\">\n                      {log.error}\n                    </pre>\n                  </ScrollArea>\n                </div>\n              )}\n            </div>\n          </TableCell>\n        </TableRow>\n      )}\n    </>\n  );\n}\n\nexport function ExecutionLogTable({ logs, isLoading, limit }: ExecutionLogTableProps) {\n  const displayLogs = limit ? logs.slice(0, limit) : logs;\n\n  if (isLoading) {\n    return (\n      <div className=\"space-y-2\">\n        {[1, 2, 3, 4, 5].map((i) => (\n          <div key={i} className=\"flex items-center gap-4 p-4 border rounded-md\">\n            <Skeleton className=\"h-4 w-4\" />\n            <Skeleton className=\"h-4 w-32\" />\n            <Skeleton className=\"h-5 w-20\" />\n            <Skeleton className=\"h-4 w-24 ml-auto\" />\n            <Skeleton className=\"h-4 w-12\" />\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (logs.length === 0) {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n        <Clock className=\"h-12 w-12 text-muted-foreground/50 mb-4\" />\n        <h3 className=\"text-lg font-medium text-muted-foreground\">No executions yet</h3>\n        <p className=\"text-sm text-muted-foreground/80 mt-1\">\n          Job executions will appear here once they run\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"border rounded-md\">\n      <Table>\n        <TableHeader>\n          <TableRow>\n            <TableHead className=\"w-8\"></TableHead>\n            <TableHead>Job Name</TableHead>\n            <TableHead>Status</TableHead>\n            <TableHead>Start Time</TableHead>\n            <TableHead className=\"text-right\">Duration</TableHead>\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {displayLogs.map((log) => (\n            <LogRow key={log.id} log={log} />\n          ))}\n        </TableBody>\n      </Table>\n    </div>\n  );\n}\n","path":null,"size_bytes":6198,"size_tokens":null},"shared/schema.ts":{"content":"import { z } from \"zod\";\nimport { pgTable, text, integer, boolean, timestamp, jsonb, serial } from \"drizzle-orm/pg-core\";\nimport { relations } from \"drizzle-orm\";\nimport { createInsertSchema } from \"drizzle-zod\";\n\n// Job action types\nexport const jobActionTypes = [\"http_request\", \"webhook\", \"script\"] as const;\nexport type JobActionType = typeof jobActionTypes[number];\n\n// Job status types\nexport const jobStatuses = [\"active\", \"paused\", \"running\"] as const;\nexport type JobStatus = typeof jobStatuses[number];\n\n// Execution status types\nexport const executionStatuses = [\"success\", \"failure\", \"running\"] as const;\nexport type ExecutionStatus = typeof executionStatuses[number];\n\n// HTTP methods for HTTP request actions\nexport const httpMethods = [\"GET\", \"POST\", \"PUT\", \"PATCH\", \"DELETE\"] as const;\nexport type HttpMethod = typeof httpMethods[number];\n\n// Authentication types for HTTP requests\nexport const authTypes = [\"none\", \"basic\", \"bearer\", \"api_key\", \"oauth2_client_credentials\"] as const;\nexport type AuthType = typeof authTypes[number];\n\n// Authentication configuration schema\nexport const authConfigSchema = z.discriminatedUnion(\"type\", [\n  z.object({\n    type: z.literal(\"none\"),\n  }),\n  z.object({\n    type: z.literal(\"basic\"),\n    username: z.string(),\n    password: z.string(),\n  }),\n  z.object({\n    type: z.literal(\"bearer\"),\n    token: z.string(),\n  }),\n  z.object({\n    type: z.literal(\"api_key\"),\n    key: z.string(),\n    value: z.string(),\n    addTo: z.enum([\"header\", \"query\"]),\n  }),\n  z.object({\n    type: z.literal(\"oauth2_client_credentials\"),\n    clientId: z.string(),\n    clientSecret: z.string(),\n    tokenUrl: z.string().url(),\n    scope: z.string().optional(),\n  }),\n]);\n\nexport type AuthConfig = z.infer<typeof authConfigSchema>;\n\n// Job action configuration based on type\nexport const httpRequestConfigSchema = z.object({\n  type: z.literal(\"http_request\"),\n  url: z.string().url(),\n  method: z.enum(httpMethods),\n  headers: z.record(z.string()).optional(),\n  body: z.string().optional(),\n  auth: authConfigSchema.optional(),\n});\n\nexport const webhookConfigSchema = z.object({\n  type: z.literal(\"webhook\"),\n  url: z.string().url(),\n  payload: z.string().optional(),\n});\n\nexport const scriptConfigSchema = z.object({\n  type: z.literal(\"script\"),\n  code: z.string(),\n  language: z.enum([\"javascript\"]),\n});\n\nexport const jobActionConfigSchema = z.discriminatedUnion(\"type\", [\n  httpRequestConfigSchema,\n  webhookConfigSchema,\n  scriptConfigSchema,\n]);\n\nexport type JobActionConfig = z.infer<typeof jobActionConfigSchema>;\n\n// Job schema\nexport const jobSchema = z.object({\n  id: z.string(),\n  name: z.string().min(1, \"Job name is required\"),\n  description: z.string().optional(),\n  cronExpression: z.string().min(1, \"Cron expression is required\"),\n  status: z.enum(jobStatuses),\n  action: jobActionConfigSchema,\n  lastRun: z.string().nullable(),\n  nextRun: z.string().nullable(),\n  createdAt: z.string(),\n  updatedAt: z.string(),\n  // For job chaining\n  dependsOn: z.string().nullable().optional(),\n  // For versioning\n  version: z.number().default(1),\n  // For notifications\n  notifyOnFailure: z.boolean().default(false),\n  notificationWebhook: z.string().url().optional().nullable(),\n});\n\nexport type Job = z.infer<typeof jobSchema>;\n\nexport const insertJobSchema = jobSchema.omit({\n  id: true,\n  lastRun: true,\n  nextRun: true,\n  createdAt: true,\n  updatedAt: true,\n  version: true,\n}).extend({\n  dependsOn: z.string().nullable().optional(),\n  notifyOnFailure: z.boolean().optional(),\n  notificationWebhook: z.string().url().optional().nullable(),\n});\n\nexport type InsertJob = z.infer<typeof insertJobSchema>;\n\n// Execution log schema\nexport const executionLogSchema = z.object({\n  id: z.string(),\n  jobId: z.string(),\n  jobName: z.string(),\n  status: z.enum(executionStatuses),\n  startTime: z.string(),\n  endTime: z.string().nullable(),\n  duration: z.number().nullable(), // in milliseconds\n  output: z.string().nullable(),\n  error: z.string().nullable(),\n});\n\nexport type ExecutionLog = z.infer<typeof executionLogSchema>;\n\n// Job version schema for versioning\nexport const jobVersionSchema = z.object({\n  id: z.string(),\n  jobId: z.string(),\n  version: z.number(),\n  snapshot: jobSchema,\n  createdAt: z.string(),\n});\n\nexport type JobVersion = z.infer<typeof jobVersionSchema>;\n\n// Job template schema\nexport const jobTemplateSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  description: z.string(),\n  category: z.string(),\n  cronExpression: z.string(),\n  action: jobActionConfigSchema,\n  icon: z.string(),\n});\n\nexport type JobTemplate = z.infer<typeof jobTemplateSchema>;\n\n// User schema (keeping existing)\nexport const userSchema = z.object({\n  id: z.string(),\n  username: z.string(),\n  password: z.string(),\n});\n\nexport type User = z.infer<typeof userSchema>;\nexport const insertUserSchema = userSchema.omit({ id: true });\nexport type InsertUser = z.infer<typeof insertUserSchema>;\n\n// Stats schema for dashboard\nexport const statsSchema = z.object({\n  totalJobs: z.number(),\n  activeJobs: z.number(),\n  failedLast24h: z.number(),\n  nextExecution: z.string().nullable(),\n});\n\nexport type Stats = z.infer<typeof statsSchema>;\n\n// ============ DRIZZLE ORM TABLES ============\n\n// Jobs table\nexport const jobs = pgTable(\"jobs\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  description: text(\"description\"),\n  cronExpression: text(\"cron_expression\").notNull(),\n  status: text(\"status\").notNull().default(\"active\"),\n  action: jsonb(\"action\").notNull(),\n  lastRun: timestamp(\"last_run\"),\n  nextRun: timestamp(\"next_run\"),\n  dependsOn: integer(\"depends_on\"),\n  version: integer(\"version\").notNull().default(1),\n  notifyOnFailure: boolean(\"notify_on_failure\").default(false),\n  notificationWebhook: text(\"notification_webhook\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport type DbJob = typeof jobs.$inferSelect;\nexport type DbInsertJob = typeof jobs.$inferInsert;\n\n// Execution logs table\nexport const executionLogs = pgTable(\"execution_logs\", {\n  id: serial(\"id\").primaryKey(),\n  jobId: integer(\"job_id\").references(() => jobs.id),\n  workflowExecutionId: integer(\"workflow_execution_id\"),\n  jobName: text(\"job_name\").notNull(),\n  status: text(\"status\").notNull(),\n  startTime: timestamp(\"start_time\").notNull(),\n  endTime: timestamp(\"end_time\"),\n  duration: integer(\"duration\"),\n  output: text(\"output\"),\n  error: text(\"error\"),\n});\n\nexport type DbExecutionLog = typeof executionLogs.$inferSelect;\n\n// Workflows table\nexport const workflows = pgTable(\"workflows\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  description: text(\"description\"),\n  status: text(\"status\").notNull().default(\"active\"),\n  cronExpression: text(\"cron_expression\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport type DbWorkflow = typeof workflows.$inferSelect;\nexport type DbInsertWorkflow = typeof workflows.$inferInsert;\n\n// Workflow steps table\nexport const workflowSteps = pgTable(\"workflow_steps\", {\n  id: serial(\"id\").primaryKey(),\n  workflowId: integer(\"workflow_id\").references(() => workflows.id).notNull(),\n  stepOrder: integer(\"step_order\").notNull(),\n  name: text(\"name\").notNull(),\n  action: jsonb(\"action\").notNull(),\n  inputMapping: jsonb(\"input_mapping\"),\n  outputVariable: text(\"output_variable\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport type DbWorkflowStep = typeof workflowSteps.$inferSelect;\nexport type DbInsertWorkflowStep = typeof workflowSteps.$inferInsert;\n\n// Workflow executions table\nexport const workflowExecutions = pgTable(\"workflow_executions\", {\n  id: serial(\"id\").primaryKey(),\n  workflowId: integer(\"workflow_id\").references(() => workflows.id).notNull(),\n  status: text(\"status\").notNull().default(\"running\"),\n  currentStep: integer(\"current_step\").default(0),\n  context: jsonb(\"context\").default({}),\n  startTime: timestamp(\"start_time\").defaultNow().notNull(),\n  endTime: timestamp(\"end_time\"),\n  error: text(\"error\"),\n});\n\nexport type DbWorkflowExecution = typeof workflowExecutions.$inferSelect;\n\n// Relations\nexport const workflowsRelations = relations(workflows, ({ many }) => ({\n  steps: many(workflowSteps),\n  executions: many(workflowExecutions),\n}));\n\nexport const workflowStepsRelations = relations(workflowSteps, ({ one }) => ({\n  workflow: one(workflows, {\n    fields: [workflowSteps.workflowId],\n    references: [workflows.id],\n  }),\n}));\n\nexport const workflowExecutionsRelations = relations(workflowExecutions, ({ one }) => ({\n  workflow: one(workflows, {\n    fields: [workflowExecutions.workflowId],\n    references: [workflows.id],\n  }),\n}));\n\n// Zod schemas for validation\nexport const workflowSchema = z.object({\n  id: z.number(),\n  name: z.string().min(1, \"Workflow name is required\"),\n  description: z.string().optional(),\n  status: z.enum([\"active\", \"paused\"]),\n  cronExpression: z.string().optional().nullable(),\n  createdAt: z.date(),\n  updatedAt: z.date(),\n});\n\nexport type Workflow = z.infer<typeof workflowSchema>;\n\nexport const insertWorkflowSchema = createInsertSchema(workflows).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertWorkflow = z.infer<typeof insertWorkflowSchema>;\n\nexport const workflowStepSchema = z.object({\n  id: z.number(),\n  workflowId: z.number(),\n  stepOrder: z.number(),\n  name: z.string(),\n  action: jobActionConfigSchema,\n  inputMapping: z.record(z.string()).optional().nullable(),\n  outputVariable: z.string().optional().nullable(),\n  createdAt: z.date(),\n});\n\nexport type WorkflowStep = z.infer<typeof workflowStepSchema>;\n\nexport const insertWorkflowStepSchema = createInsertSchema(workflowSteps).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertWorkflowStep = z.infer<typeof insertWorkflowStepSchema>;\n\nexport const workflowExecutionSchema = z.object({\n  id: z.number(),\n  workflowId: z.number(),\n  status: z.enum([\"running\", \"completed\", \"failed\"]),\n  currentStep: z.number(),\n  context: z.record(z.any()),\n  startTime: z.date(),\n  endTime: z.date().optional().nullable(),\n  error: z.string().optional().nullable(),\n});\n\nexport type WorkflowExecution = z.infer<typeof workflowExecutionSchema>;\n\n// Create workflow request schema (for API validation)\nexport const createWorkflowRequestSchema = z.object({\n  name: z.string().min(1, \"Workflow name is required\"),\n  description: z.string().optional().nullable(),\n  cronExpression: z.string().optional().nullable(),\n  status: z.enum([\"active\", \"paused\"]).optional(),\n  steps: z.array(z.object({\n    name: z.string().min(1, \"Step name is required\"),\n    action: jobActionConfigSchema,\n    inputMapping: z.record(z.string()).optional().nullable(),\n    outputVariable: z.string().optional().nullable(),\n    stepOrder: z.number().optional(),\n  })).optional().default([]),\n});\n\nexport type CreateWorkflowRequest = z.infer<typeof createWorkflowRequestSchema>;\n\n// Update workflow request schema\nexport const updateWorkflowRequestSchema = createWorkflowRequestSchema.partial();\n","path":null,"size_bytes":11131,"size_tokens":null},"client/src/pages/workflows.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Plus, Play, Trash2, Edit, GitBranch, Clock, CheckCircle2, XCircle, Loader2 } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport { WorkflowBuilder, type WorkflowStep } from \"@/components/workflow-builder\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport type { DbWorkflow, DbWorkflowStep, DbWorkflowExecution } from \"@shared/schema\";\n\nexport default function WorkflowsPage() {\n  const { toast } = useToast();\n  const [isCreateOpen, setIsCreateOpen] = useState(false);\n  const [editingWorkflow, setEditingWorkflow] = useState<{\n    workflow: DbWorkflow;\n    steps: DbWorkflowStep[];\n  } | null>(null);\n  const [deleteId, setDeleteId] = useState<number | null>(null);\n\n  const { data: workflows = [], isLoading } = useQuery<DbWorkflow[]>({\n    queryKey: [\"/api/workflows\"],\n  });\n\n  const { data: executions = [] } = useQuery<DbWorkflowExecution[]>({\n    queryKey: [\"/api/workflow-executions\"],\n  });\n\n  const createMutation = useMutation({\n    mutationFn: (data: {\n      name: string;\n      description: string;\n      cronExpression: string | null;\n      steps: Omit<WorkflowStep, \"id\">[];\n    }) => apiRequest(\"POST\", \"/api/workflows\", data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/workflows\"] });\n      setIsCreateOpen(false);\n      toast({ title: \"Success\", description: \"Workflow created successfully\" });\n    },\n    onError: (error) => {\n      toast({ title: \"Error\", description: error.message, variant: \"destructive\" });\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: ({ id, data }: { id: number; data: Record<string, unknown> }) =>\n      apiRequest(\"PATCH\", `/api/workflows/${id}`, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/workflows\"] });\n      setEditingWorkflow(null);\n      toast({ title: \"Success\", description: \"Workflow updated successfully\" });\n    },\n    onError: (error) => {\n      toast({ title: \"Error\", description: error.message, variant: \"destructive\" });\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: (id: number) => apiRequest(\"DELETE\", `/api/workflows/${id}`),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/workflows\"] });\n      setDeleteId(null);\n      toast({ title: \"Success\", description: \"Workflow deleted successfully\" });\n    },\n    onError: (error) => {\n      toast({ title: \"Error\", description: error.message, variant: \"destructive\" });\n    },\n  });\n\n  const runMutation = useMutation({\n    mutationFn: (id: number) => apiRequest(\"POST\", `/api/workflows/${id}/run`),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/workflow-executions\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/executions\"] });\n      toast({ title: \"Success\", description: \"Workflow execution started\" });\n    },\n    onError: (error) => {\n      toast({ title: \"Error\", description: error.message, variant: \"destructive\" });\n    },\n  });\n\n  const fetchWorkflowDetails = async (id: number) => {\n    const response = await fetch(`/api/workflows/${id}`);\n    const data = await response.json();\n    return data as { workflow: DbWorkflow; steps: DbWorkflowStep[] };\n  };\n\n  const handleEdit = async (workflowId: number) => {\n    const data = await fetchWorkflowDetails(workflowId);\n    setEditingWorkflow(data);\n  };\n\n  const getExecutionStatusIcon = (status: string) => {\n    switch (status) {\n      case \"completed\":\n        return <CheckCircle2 className=\"h-4 w-4 text-green-500\" />;\n      case \"failed\":\n        return <XCircle className=\"h-4 w-4 text-red-500\" />;\n      case \"running\":\n        return <Loader2 className=\"h-4 w-4 text-blue-500 animate-spin\" />;\n      default:\n        return null;\n    }\n  };\n\n  const getRecentExecution = (workflowId: number) => {\n    return executions.find((e) => e.workflowId === workflowId);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div className=\"flex items-center justify-between gap-4\">\n        <div>\n          <h1 className=\"text-2xl font-bold\" data-testid=\"text-page-title\">Workflows</h1>\n          <p className=\"text-muted-foreground\">\n            Create multi-step workflows that chain API calls and scripts together\n          </p>\n        </div>\n        <Button onClick={() => setIsCreateOpen(true)} data-testid=\"button-create-workflow\">\n          <Plus className=\"h-4 w-4 mr-2\" />\n          New Workflow\n        </Button>\n      </div>\n\n      {workflows.length === 0 ? (\n        <Card>\n          <CardContent className=\"flex flex-col items-center justify-center py-12\">\n            <GitBranch className=\"h-12 w-12 text-muted-foreground mb-4\" />\n            <h3 className=\"text-lg font-medium mb-2\">No workflows yet</h3>\n            <p className=\"text-muted-foreground text-center mb-4\">\n              Create your first workflow to chain multiple API calls together.\n              <br />\n              For example: fetch users, then process each user with another API.\n            </p>\n            <Button onClick={() => setIsCreateOpen(true)}>\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Create Workflow\n            </Button>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {workflows.map((workflow) => {\n            const recentExecution = getRecentExecution(workflow.id);\n            return (\n              <Card key={workflow.id} data-testid={`card-workflow-${workflow.id}`}>\n                <CardHeader className=\"pb-2\">\n                  <div className=\"flex items-start justify-between gap-2\">\n                    <div className=\"flex-1 min-w-0\">\n                      <CardTitle className=\"text-lg truncate\">{workflow.name}</CardTitle>\n                      {workflow.description && (\n                        <CardDescription className=\"line-clamp-2\">\n                          {workflow.description}\n                        </CardDescription>\n                      )}\n                    </div>\n                    <Badge variant={workflow.status === \"active\" ? \"default\" : \"secondary\"}>\n                      {workflow.status}\n                    </Badge>\n                  </div>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                    {workflow.cronExpression ? (\n                      <div className=\"flex items-center gap-1\">\n                        <Clock className=\"h-4 w-4\" />\n                        <span>{workflow.cronExpression}</span>\n                      </div>\n                    ) : (\n                      <span className=\"italic\">Manual execution only</span>\n                    )}\n                  </div>\n\n                  {recentExecution && (\n                    <div className=\"flex items-center gap-2 text-sm\">\n                      {getExecutionStatusIcon(recentExecution.status)}\n                      <span>\n                        Last run {formatDistanceToNow(new Date(recentExecution.startTime))} ago\n                      </span>\n                    </div>\n                  )}\n\n                  <div className=\"flex items-center gap-2\">\n                    <Button\n                      variant=\"default\"\n                      size=\"sm\"\n                      onClick={() => runMutation.mutate(workflow.id)}\n                      disabled={runMutation.isPending}\n                      data-testid={`button-run-workflow-${workflow.id}`}\n                    >\n                      <Play className=\"h-4 w-4 mr-1\" />\n                      Run\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleEdit(workflow.id)}\n                      data-testid={`button-edit-workflow-${workflow.id}`}\n                    >\n                      <Edit className=\"h-4 w-4 mr-1\" />\n                      Edit\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      onClick={() => setDeleteId(workflow.id)}\n                      data-testid={`button-delete-workflow-${workflow.id}`}\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n      )}\n\n      <Dialog open={isCreateOpen} onOpenChange={setIsCreateOpen}>\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>Create Workflow</DialogTitle>\n            <DialogDescription>\n              Build a multi-step workflow that chains API calls and data transformations\n            </DialogDescription>\n          </DialogHeader>\n          <WorkflowBuilder\n            onSave={(data) => createMutation.mutate(data)}\n            onCancel={() => setIsCreateOpen(false)}\n            isSaving={createMutation.isPending}\n          />\n        </DialogContent>\n      </Dialog>\n\n      <Dialog\n        open={!!editingWorkflow}\n        onOpenChange={(open) => !open && setEditingWorkflow(null)}\n      >\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>Edit Workflow</DialogTitle>\n            <DialogDescription>\n              Modify your workflow steps and configuration\n            </DialogDescription>\n          </DialogHeader>\n          {editingWorkflow && (\n            <WorkflowBuilder\n              initialName={editingWorkflow.workflow.name}\n              initialDescription={editingWorkflow.workflow.description || \"\"}\n              initialCronExpression={editingWorkflow.workflow.cronExpression || \"\"}\n              initialSteps={editingWorkflow.steps.map((s) => ({\n                id: String(s.id),\n                name: s.name,\n                action: s.action as WorkflowStep[\"action\"],\n                inputMapping: s.inputMapping as Record<string, string> | undefined,\n                outputVariable: s.outputVariable || undefined,\n              }))}\n              onSave={(data) =>\n                updateMutation.mutate({\n                  id: editingWorkflow.workflow.id,\n                  data: {\n                    name: data.name,\n                    description: data.description,\n                    cronExpression: data.cronExpression,\n                    steps: data.steps,\n                  },\n                })\n              }\n              onCancel={() => setEditingWorkflow(null)}\n              isSaving={updateMutation.isPending}\n            />\n          )}\n        </DialogContent>\n      </Dialog>\n\n      <AlertDialog open={deleteId !== null} onOpenChange={() => setDeleteId(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Delete Workflow</AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to delete this workflow? This action cannot be undone.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={() => deleteId && deleteMutation.mutate(deleteId)}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              Delete\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n","path":null,"size_bytes":12514,"size_tokens":null},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","path":null,"size_bytes":1280,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","path":null,"size_bytes":166,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":157,"size_tokens":null},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { serveStatic } from \"./static\";\nimport { createServer } from \"http\";\n\nconst app = express();\nconst httpServer = createServer(app);\n\ndeclare module \"http\" {\n  interface IncomingMessage {\n    rawBody: unknown;\n  }\n}\n\napp.use(\n  express.json({\n    verify: (req, _res, buf) => {\n      req.rawBody = buf;\n    },\n  }),\n);\n\napp.use(express.urlencoded({ extended: false }));\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  await registerRoutes(httpServer, app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (process.env.NODE_ENV === \"production\") {\n    serveStatic(app);\n  } else {\n    const { setupVite } = await import(\"./vite\");\n    await setupVite(httpServer, app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || \"5000\", 10);\n  httpServer.listen(\n    {\n      port,\n      host: \"0.0.0.0\",\n      reusePort: true,\n    },\n    () => {\n      log(`serving on port ${port}`);\n    },\n  );\n})();\n","path":null,"size_bytes":2560,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":791,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1592,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1584,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":844,"size_tokens":null},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","path":null,"size_bytes":4050,"size_tokens":null},"client/src/pages/dashboard.tsx":{"content":"import { Link } from \"wouter\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Plus, ArrowRight } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { StatsCards } from \"@/components/stats-cards\";\nimport { JobCard } from \"@/components/job-card\";\nimport { ExecutionLogTable } from \"@/components/execution-log-table\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport type { Job, ExecutionLog, Stats } from \"@shared/schema\";\n\nexport default function Dashboard() {\n  const { toast } = useToast();\n\n  const { data: stats, isLoading: statsLoading } = useQuery<Stats>({\n    queryKey: [\"/api/stats\"],\n  });\n\n  const { data: jobs = [], isLoading: jobsLoading } = useQuery<Job[]>({\n    queryKey: [\"/api/jobs\"],\n  });\n\n  const { data: logs = [], isLoading: logsLoading } = useQuery<ExecutionLog[]>({\n    queryKey: [\"/api/executions\"],\n  });\n\n  const toggleMutation = useMutation({\n    mutationFn: async ({ id, enabled }: { id: string; enabled: boolean }) => {\n      return apiRequest(\"PATCH\", `/api/jobs/${id}`, { status: enabled ? \"active\" : \"paused\" });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/jobs\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/stats\"] });\n    },\n  });\n\n  const runMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return apiRequest(\"POST\", `/api/jobs/${id}/run`);\n    },\n    onSuccess: () => {\n      toast({ title: \"Job started\", description: \"The job is now running\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/jobs\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/executions\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/stats\"] });\n    },\n    onError: (error: Error) => {\n      toast({ title: \"Failed to run job\", description: error.message, variant: \"destructive\" });\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return apiRequest(\"DELETE\", `/api/jobs/${id}`);\n    },\n    onSuccess: () => {\n      toast({ title: \"Job deleted\", description: \"The job has been removed\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/jobs\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/stats\"] });\n    },\n  });\n\n  const activeJobs = jobs.filter((j) => j.status !== \"paused\").slice(0, 6);\n\n  return (\n    <div className=\"space-y-8 p-6\">\n      <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">Dashboard</h1>\n          <p className=\"text-muted-foreground\">Manage your scheduled tasks and monitor executions</p>\n        </div>\n        <Link href=\"/jobs/new\">\n          <Button className=\"gap-2\" data-testid=\"button-new-job-header\">\n            <Plus className=\"h-4 w-4\" />\n            New Job\n          </Button>\n        </Link>\n      </div>\n\n      <StatsCards stats={stats} isLoading={statsLoading} />\n\n      <div className=\"grid gap-8 lg:grid-cols-3\">\n        <div className=\"lg:col-span-2 space-y-4\">\n          <div className=\"flex items-center justify-between gap-4\">\n            <h2 className=\"text-xl font-semibold\">Active Jobs</h2>\n            <Link href=\"/jobs\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"gap-1\" data-testid=\"link-view-all-jobs\">\n                View all <ArrowRight className=\"h-4 w-4\" />\n              </Button>\n            </Link>\n          </div>\n\n          {jobsLoading ? (\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              {[1, 2, 3, 4].map((i) => (\n                <Card key={i}>\n                  <CardHeader className=\"space-y-2\">\n                    <Skeleton className=\"h-5 w-32\" />\n                    <Skeleton className=\"h-4 w-48\" />\n                  </CardHeader>\n                  <CardContent className=\"space-y-3\">\n                    <Skeleton className=\"h-4 w-24\" />\n                    <Skeleton className=\"h-8 w-full\" />\n                    <div className=\"flex justify-between\">\n                      <Skeleton className=\"h-4 w-20\" />\n                      <Skeleton className=\"h-6 w-12\" />\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          ) : activeJobs.length === 0 ? (\n            <Card>\n              <CardContent className=\"flex flex-col items-center justify-center py-12 text-center\">\n                <div className=\"rounded-full bg-muted p-4 mb-4\">\n                  <Plus className=\"h-8 w-8 text-muted-foreground\" />\n                </div>\n                <h3 className=\"text-lg font-medium\">No active jobs</h3>\n                <p className=\"text-sm text-muted-foreground mt-1 mb-4\">\n                  Create your first scheduled task to get started\n                </p>\n                <Link href=\"/jobs/new\">\n                  <Button data-testid=\"button-create-first-job\">Create Job</Button>\n                </Link>\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              {activeJobs.map((job) => (\n                <JobCard\n                  key={job.id}\n                  job={job}\n                  onToggleStatus={(id, enabled) => toggleMutation.mutate({ id, enabled })}\n                  onRunNow={(id) => runMutation.mutate(id)}\n                  onDelete={(id) => deleteMutation.mutate(id)}\n                  isRunning={runMutation.isPending && runMutation.variables === job.id}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center justify-between gap-4\">\n            <h2 className=\"text-xl font-semibold\">Recent Activity</h2>\n            <Link href=\"/history\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"gap-1\" data-testid=\"link-view-all-history\">\n                View all <ArrowRight className=\"h-4 w-4\" />\n              </Button>\n            </Link>\n          </div>\n\n          <Card>\n            <CardContent className=\"p-0\">\n              <ExecutionLogTable logs={logs} isLoading={logsLoading} limit={5} />\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":6445,"size_tokens":null},"client/src/components/workflow-builder.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Plus, Trash2, ArrowDown, Play, GripVertical, Globe, Webhook, Code } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { CronExpressionEditor } from \"@/components/cron-expression-editor\";\nimport { httpMethods, authTypes, type JobActionConfig } from \"@shared/schema\";\n\nconst stepActionSchema = z.discriminatedUnion(\"type\", [\n  z.object({\n    type: z.literal(\"http_request\"),\n    url: z.string().url(),\n    method: z.enum(httpMethods),\n    headers: z.record(z.string()).optional(),\n    body: z.string().optional(),\n    auth: z.object({\n      type: z.enum(authTypes),\n      username: z.string().optional(),\n      password: z.string().optional(),\n      token: z.string().optional(),\n      key: z.string().optional(),\n      value: z.string().optional(),\n      addTo: z.enum([\"header\", \"query\"]).optional(),\n      clientId: z.string().optional(),\n      clientSecret: z.string().optional(),\n      tokenUrl: z.string().optional(),\n      scope: z.string().optional(),\n    }).optional(),\n  }),\n  z.object({\n    type: z.literal(\"webhook\"),\n    url: z.string().url(),\n    payload: z.string().optional(),\n  }),\n  z.object({\n    type: z.literal(\"script\"),\n    code: z.string(),\n    language: z.literal(\"javascript\"),\n  }),\n]);\n\nexport interface WorkflowStep {\n  id: string;\n  name: string;\n  action: JobActionConfig;\n  inputMapping?: Record<string, string>;\n  outputVariable?: string;\n}\n\ninterface WorkflowBuilderProps {\n  initialSteps?: WorkflowStep[];\n  initialName?: string;\n  initialDescription?: string;\n  initialCronExpression?: string;\n  onSave: (data: { \n    name: string; \n    description: string; \n    cronExpression: string | null;\n    steps: Omit<WorkflowStep, \"id\">[] \n  }) => void;\n  onCancel: () => void;\n  isSaving: boolean;\n}\n\nexport function WorkflowBuilder({\n  initialSteps = [],\n  initialName = \"\",\n  initialDescription = \"\",\n  initialCronExpression = \"\",\n  onSave,\n  onCancel,\n  isSaving,\n}: WorkflowBuilderProps) {\n  const [steps, setSteps] = useState<WorkflowStep[]>(\n    initialSteps.length > 0 ? initialSteps : []\n  );\n  const [name, setName] = useState(initialName);\n  const [description, setDescription] = useState(initialDescription);\n  const [cronExpression, setCronExpression] = useState(initialCronExpression);\n  const [editingStep, setEditingStep] = useState<string | null>(null);\n\n  const addStep = () => {\n    const newStep: WorkflowStep = {\n      id: `step-${Date.now()}`,\n      name: `Step ${steps.length + 1}`,\n      action: {\n        type: \"http_request\",\n        url: \"\",\n        method: \"GET\",\n        headers: {},\n        body: \"\",\n      },\n      outputVariable: `step${steps.length + 1}Result`,\n    };\n    setSteps([...steps, newStep]);\n    setEditingStep(newStep.id);\n  };\n\n  const removeStep = (id: string) => {\n    setSteps(steps.filter((s) => s.id !== id));\n    if (editingStep === id) {\n      setEditingStep(null);\n    }\n  };\n\n  const updateStep = (id: string, updates: Partial<WorkflowStep>) => {\n    setSteps(steps.map((s) => (s.id === id ? { ...s, ...updates } : s)));\n  };\n\n  const handleSave = () => {\n    onSave({\n      name,\n      description,\n      cronExpression: cronExpression || null,\n      steps: steps.map((s, index) => ({\n        name: s.name,\n        action: s.action,\n        inputMapping: s.inputMapping,\n        outputVariable: s.outputVariable,\n        stepOrder: index,\n      })),\n    });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle>Workflow Details</CardTitle>\n          <CardDescription>Configure the basic settings for your workflow</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"workflow-name\">Workflow Name</Label>\n              <Input\n                id=\"workflow-name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                placeholder=\"My API Workflow\"\n                data-testid=\"input-workflow-name\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"workflow-description\">Description</Label>\n              <Input\n                id=\"workflow-description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                placeholder=\"Fetch users and process them\"\n                data-testid=\"input-workflow-description\"\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>Schedule (Optional)</Label>\n            <CronExpressionEditor\n              value={cronExpression}\n              onChange={setCronExpression}\n            />\n            <p className=\"text-sm text-muted-foreground\">\n              Leave empty to run manually only\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between gap-4\">\n          <div>\n            <CardTitle>Workflow Steps</CardTitle>\n            <CardDescription>\n              Define the steps that will be executed in sequence. Use {`{{variableName}}`} to reference data from previous steps.\n            </CardDescription>\n          </div>\n          <Button onClick={addStep} data-testid=\"button-add-step\">\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Add Step\n          </Button>\n        </CardHeader>\n        <CardContent>\n          {steps.length === 0 ? (\n            <div className=\"text-center py-12 text-muted-foreground\">\n              <p>No steps defined yet.</p>\n              <p className=\"text-sm\">Click \"Add Step\" to create your first workflow step.</p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {steps.map((step, index) => (\n                <div key={step.id}>\n                  <StepCard\n                    step={step}\n                    stepNumber={index + 1}\n                    isEditing={editingStep === step.id}\n                    onEdit={() => setEditingStep(editingStep === step.id ? null : step.id)}\n                    onUpdate={(updates) => updateStep(step.id, updates)}\n                    onRemove={() => removeStep(step.id)}\n                    previousSteps={steps.slice(0, index)}\n                  />\n                  {index < steps.length - 1 && (\n                    <div className=\"flex justify-center py-2\">\n                      <ArrowDown className=\"h-6 w-6 text-muted-foreground\" />\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      <div className=\"flex justify-end gap-4\">\n        <Button variant=\"outline\" onClick={onCancel} data-testid=\"button-cancel-workflow\">\n          Cancel\n        </Button>\n        <Button\n          onClick={handleSave}\n          disabled={!name || steps.length === 0 || isSaving}\n          data-testid=\"button-save-workflow\"\n        >\n          {isSaving ? \"Saving...\" : \"Save Workflow\"}\n        </Button>\n      </div>\n    </div>\n  );\n}\n\ninterface StepCardProps {\n  step: WorkflowStep;\n  stepNumber: number;\n  isEditing: boolean;\n  onEdit: () => void;\n  onUpdate: (updates: Partial<WorkflowStep>) => void;\n  onRemove: () => void;\n  previousSteps: WorkflowStep[];\n}\n\nfunction StepCard({ step, stepNumber, isEditing, onEdit, onUpdate, onRemove, previousSteps }: StepCardProps) {\n  const getStepIcon = () => {\n    switch (step.action.type) {\n      case \"http_request\":\n        return <Globe className=\"h-4 w-4\" />;\n      case \"webhook\":\n        return <Webhook className=\"h-4 w-4\" />;\n      case \"script\":\n        return <Code className=\"h-4 w-4\" />;\n    }\n  };\n\n  const getStepDescription = () => {\n    switch (step.action.type) {\n      case \"http_request\":\n        return `${step.action.method} ${step.action.url || \"No URL set\"}`;\n      case \"webhook\":\n        return step.action.url || \"No URL set\";\n      case \"script\":\n        return \"JavaScript code\";\n    }\n  };\n\n  return (\n    <Card className={isEditing ? \"border-primary\" : \"\"}>\n      <CardHeader className=\"pb-2\">\n        <div className=\"flex items-center justify-between gap-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex items-center justify-center h-8 w-8 rounded-full bg-primary/10 text-primary text-sm font-medium\">\n              {stepNumber}\n            </div>\n            <div className=\"flex items-center gap-2\">\n              {getStepIcon()}\n              <span className=\"font-medium\">{step.name}</span>\n            </div>\n            <Badge variant=\"secondary\" className=\"text-xs\">\n              {step.action.type.replace(\"_\", \" \")}\n            </Badge>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button variant=\"ghost\" size=\"sm\" onClick={onEdit} data-testid={`button-edit-step-${stepNumber}`}>\n              {isEditing ? \"Collapse\" : \"Edit\"}\n            </Button>\n            <Button variant=\"ghost\" size=\"icon\" onClick={onRemove} data-testid={`button-remove-step-${stepNumber}`}>\n              <Trash2 className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n        {!isEditing && (\n          <p className=\"text-sm text-muted-foreground ml-11 truncate\">\n            {getStepDescription()}\n          </p>\n        )}\n      </CardHeader>\n\n      {isEditing && (\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Step Name</Label>\n              <Input\n                value={step.name}\n                onChange={(e) => onUpdate({ name: e.target.value })}\n                placeholder=\"Step name\"\n                data-testid={`input-step-name-${stepNumber}`}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Output Variable</Label>\n              <Input\n                value={step.outputVariable || \"\"}\n                onChange={(e) => onUpdate({ outputVariable: e.target.value })}\n                placeholder=\"e.g., usersData\"\n                data-testid={`input-step-output-${stepNumber}`}\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Access in later steps as {`{{${step.outputVariable || \"variableName\"}}}`}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>Action Type</Label>\n            <Select\n              value={step.action.type}\n              onValueChange={(value: \"http_request\" | \"webhook\" | \"script\") => {\n                if (value === \"http_request\") {\n                  onUpdate({\n                    action: { type: \"http_request\", url: \"\", method: \"GET\", headers: {}, body: \"\" },\n                  });\n                } else if (value === \"webhook\") {\n                  onUpdate({\n                    action: { type: \"webhook\", url: \"\", payload: \"\" },\n                  });\n                } else {\n                  onUpdate({\n                    action: { type: \"script\", code: \"\", language: \"javascript\" },\n                  });\n                }\n              }}\n            >\n              <SelectTrigger data-testid={`select-step-type-${stepNumber}`}>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"http_request\">HTTP Request</SelectItem>\n                <SelectItem value=\"webhook\">Webhook</SelectItem>\n                <SelectItem value=\"script\">JavaScript Script</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {step.action.type === \"http_request\" && (\n            <HttpRequestEditor\n              action={step.action}\n              onUpdate={(action) => onUpdate({ action })}\n              stepNumber={stepNumber}\n            />\n          )}\n\n          {step.action.type === \"webhook\" && (\n            <WebhookEditor\n              action={step.action}\n              onUpdate={(action) => onUpdate({ action })}\n              stepNumber={stepNumber}\n            />\n          )}\n\n          {step.action.type === \"script\" && (\n            <ScriptEditor\n              action={step.action}\n              onUpdate={(action) => onUpdate({ action })}\n              stepNumber={stepNumber}\n            />\n          )}\n\n          {previousSteps.length > 0 && (\n            <div className=\"rounded-lg bg-muted p-3\">\n              <Label className=\"text-sm font-medium\">Available Variables</Label>\n              <div className=\"flex flex-wrap gap-2 mt-2\">\n                <Badge variant=\"outline\">{`{{_lastResult}}`}</Badge>\n                {previousSteps.map((ps) =>\n                  ps.outputVariable ? (\n                    <Badge key={ps.id} variant=\"outline\">\n                      {`{{${ps.outputVariable}}}`}\n                    </Badge>\n                  ) : null\n                )}\n              </div>\n            </div>\n          )}\n        </CardContent>\n      )}\n    </Card>\n  );\n}\n\ninterface HttpRequestEditorProps {\n  action: Extract<JobActionConfig, { type: \"http_request\" }>;\n  onUpdate: (action: Extract<JobActionConfig, { type: \"http_request\" }>) => void;\n  stepNumber: number;\n}\n\nfunction HttpRequestEditor({ action, onUpdate, stepNumber }: HttpRequestEditorProps) {\n  const authType = action.auth?.type || \"none\";\n\n  const handleAuthTypeChange = (value: string) => {\n    if (value === \"none\") {\n      onUpdate({ ...action, auth: { type: \"none\" } });\n    } else if (value === \"basic\") {\n      onUpdate({ ...action, auth: { type: \"basic\", username: \"\", password: \"\" } });\n    } else if (value === \"bearer\") {\n      onUpdate({ ...action, auth: { type: \"bearer\", token: \"\" } });\n    } else if (value === \"api_key\") {\n      onUpdate({ ...action, auth: { type: \"api_key\", key: \"X-API-Key\", value: \"\", addTo: \"header\" } });\n    } else if (value === \"oauth2_client_credentials\") {\n      onUpdate({ ...action, auth: { type: \"oauth2_client_credentials\", clientId: \"\", clientSecret: \"\", tokenUrl: \"\", scope: \"\" } });\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex gap-4\">\n        <div className=\"w-32\">\n          <Label>Method</Label>\n          <Select\n            value={action.method}\n            onValueChange={(value: typeof httpMethods[number]) =>\n              onUpdate({ ...action, method: value })\n            }\n          >\n            <SelectTrigger data-testid={`select-step-method-${stepNumber}`}>\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              {httpMethods.map((m) => (\n                <SelectItem key={m} value={m}>\n                  {m}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n        <div className=\"flex-1\">\n          <Label>URL</Label>\n          <Input\n            value={action.url}\n            onChange={(e) => onUpdate({ ...action, url: e.target.value })}\n            placeholder=\"https://api.example.com/users?offset={{offset}}&limit=100\"\n            data-testid={`input-step-url-${stepNumber}`}\n          />\n        </div>\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label>Request Body (Optional)</Label>\n        <Textarea\n          value={action.body || \"\"}\n          onChange={(e) => onUpdate({ ...action, body: e.target.value })}\n          placeholder='{\"userId\": \"{{_lastResult.id}}\"}'\n          className=\"font-mono text-sm min-h-20\"\n          data-testid={`input-step-body-${stepNumber}`}\n        />\n        <p className=\"text-xs text-muted-foreground\">\n          Use {`{{variableName}}`} to insert data from previous steps. Supports nested paths like {`{{users.0.id}}`}\n        </p>\n      </div>\n\n      <div className=\"space-y-4 rounded-lg border p-4\">\n        <Label className=\"text-base font-medium\">Authentication</Label>\n        <div className=\"space-y-2\">\n          <Label>Auth Type</Label>\n          <Select value={authType} onValueChange={handleAuthTypeChange}>\n            <SelectTrigger data-testid={`select-step-auth-type-${stepNumber}`}>\n              <SelectValue placeholder=\"Select authentication type\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"none\">No Authentication</SelectItem>\n              <SelectItem value=\"basic\">Basic Auth</SelectItem>\n              <SelectItem value=\"bearer\">Bearer Token</SelectItem>\n              <SelectItem value=\"api_key\">API Key</SelectItem>\n              <SelectItem value=\"oauth2_client_credentials\">OAuth2 Client Credentials</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n\n        {authType === \"basic\" && action.auth?.type === \"basic\" && (\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Username</Label>\n              <Input\n                value={action.auth.username || \"\"}\n                onChange={(e) => onUpdate({ ...action, auth: { ...action.auth, type: \"basic\", username: e.target.value, password: action.auth?.type === \"basic\" ? action.auth.password : \"\" } })}\n                placeholder=\"Username\"\n                data-testid={`input-step-auth-username-${stepNumber}`}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Password</Label>\n              <Input\n                type=\"password\"\n                value={action.auth.password || \"\"}\n                onChange={(e) => onUpdate({ ...action, auth: { ...action.auth, type: \"basic\", username: action.auth?.type === \"basic\" ? action.auth.username : \"\", password: e.target.value } })}\n                placeholder=\"Password\"\n                data-testid={`input-step-auth-password-${stepNumber}`}\n              />\n            </div>\n          </div>\n        )}\n\n        {authType === \"bearer\" && action.auth?.type === \"bearer\" && (\n          <div className=\"space-y-2\">\n            <Label>Bearer Token</Label>\n            <Input\n              type=\"password\"\n              value={action.auth.token || \"\"}\n              onChange={(e) => onUpdate({ ...action, auth: { type: \"bearer\", token: e.target.value } })}\n              placeholder=\"Enter your bearer token\"\n              data-testid={`input-step-auth-token-${stepNumber}`}\n            />\n          </div>\n        )}\n\n        {authType === \"api_key\" && action.auth?.type === \"api_key\" && (\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label>Header/Query Name</Label>\n                <Input\n                  value={action.auth.key || \"\"}\n                  onChange={(e) => onUpdate({ ...action, auth: { ...action.auth, type: \"api_key\", key: e.target.value, value: action.auth?.type === \"api_key\" ? action.auth.value : \"\", addTo: action.auth?.type === \"api_key\" ? action.auth.addTo : \"header\" } })}\n                  placeholder=\"X-API-Key\"\n                  data-testid={`input-step-auth-key-name-${stepNumber}`}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>API Key Value</Label>\n                <Input\n                  type=\"password\"\n                  value={action.auth.value || \"\"}\n                  onChange={(e) => onUpdate({ ...action, auth: { ...action.auth, type: \"api_key\", key: action.auth?.type === \"api_key\" ? action.auth.key : \"X-API-Key\", value: e.target.value, addTo: action.auth?.type === \"api_key\" ? action.auth.addTo : \"header\" } })}\n                  placeholder=\"Your API key\"\n                  data-testid={`input-step-auth-key-value-${stepNumber}`}\n                />\n              </div>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Add To</Label>\n              <Select\n                value={action.auth.addTo || \"header\"}\n                onValueChange={(value: \"header\" | \"query\") => onUpdate({ ...action, auth: { ...action.auth, type: \"api_key\", key: action.auth?.type === \"api_key\" ? action.auth.key : \"X-API-Key\", value: action.auth?.type === \"api_key\" ? action.auth.value : \"\", addTo: value } })}\n              >\n                <SelectTrigger data-testid={`select-step-auth-addto-${stepNumber}`}>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"header\">Header</SelectItem>\n                  <SelectItem value=\"query\">Query Parameter</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n        )}\n\n        {authType === \"oauth2_client_credentials\" && action.auth?.type === \"oauth2_client_credentials\" && (\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label>Client ID</Label>\n                <Input\n                  value={action.auth.clientId || \"\"}\n                  onChange={(e) => onUpdate({ ...action, auth: { ...action.auth, type: \"oauth2_client_credentials\", clientId: e.target.value, clientSecret: action.auth?.type === \"oauth2_client_credentials\" ? action.auth.clientSecret : \"\", tokenUrl: action.auth?.type === \"oauth2_client_credentials\" ? action.auth.tokenUrl : \"\", scope: action.auth?.type === \"oauth2_client_credentials\" ? action.auth.scope : \"\" } })}\n                  placeholder=\"Client ID\"\n                  data-testid={`input-step-auth-client-id-${stepNumber}`}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Client Secret</Label>\n                <Input\n                  type=\"password\"\n                  value={action.auth.clientSecret || \"\"}\n                  onChange={(e) => onUpdate({ ...action, auth: { ...action.auth, type: \"oauth2_client_credentials\", clientId: action.auth?.type === \"oauth2_client_credentials\" ? action.auth.clientId : \"\", clientSecret: e.target.value, tokenUrl: action.auth?.type === \"oauth2_client_credentials\" ? action.auth.tokenUrl : \"\", scope: action.auth?.type === \"oauth2_client_credentials\" ? action.auth.scope : \"\" } })}\n                  placeholder=\"Client Secret\"\n                  data-testid={`input-step-auth-client-secret-${stepNumber}`}\n                />\n              </div>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Token URL</Label>\n              <Input\n                value={action.auth.tokenUrl || \"\"}\n                onChange={(e) => onUpdate({ ...action, auth: { ...action.auth, type: \"oauth2_client_credentials\", clientId: action.auth?.type === \"oauth2_client_credentials\" ? action.auth.clientId : \"\", clientSecret: action.auth?.type === \"oauth2_client_credentials\" ? action.auth.clientSecret : \"\", tokenUrl: e.target.value, scope: action.auth?.type === \"oauth2_client_credentials\" ? action.auth.scope : \"\" } })}\n                placeholder=\"https://auth.example.com/oauth/token\"\n                data-testid={`input-step-auth-token-url-${stepNumber}`}\n              />\n              <p className=\"text-xs text-muted-foreground\">The OAuth2 token endpoint URL</p>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Scope (Optional)</Label>\n              <Input\n                value={action.auth.scope || \"\"}\n                onChange={(e) => onUpdate({ ...action, auth: { ...action.auth, type: \"oauth2_client_credentials\", clientId: action.auth?.type === \"oauth2_client_credentials\" ? action.auth.clientId : \"\", clientSecret: action.auth?.type === \"oauth2_client_credentials\" ? action.auth.clientSecret : \"\", tokenUrl: action.auth?.type === \"oauth2_client_credentials\" ? action.auth.tokenUrl : \"\", scope: e.target.value } })}\n                placeholder=\"read write\"\n                data-testid={`input-step-auth-scope-${stepNumber}`}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\ninterface WebhookEditorProps {\n  action: Extract<JobActionConfig, { type: \"webhook\" }>;\n  onUpdate: (action: Extract<JobActionConfig, { type: \"webhook\" }>) => void;\n  stepNumber: number;\n}\n\nfunction WebhookEditor({ action, onUpdate, stepNumber }: WebhookEditorProps) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-2\">\n        <Label>Webhook URL</Label>\n        <Input\n          value={action.url}\n          onChange={(e) => onUpdate({ ...action, url: e.target.value })}\n          placeholder=\"https://hooks.example.com/webhook\"\n          data-testid={`input-step-webhook-url-${stepNumber}`}\n        />\n      </div>\n      <div className=\"space-y-2\">\n        <Label>Payload</Label>\n        <Textarea\n          value={action.payload || \"\"}\n          onChange={(e) => onUpdate({ ...action, payload: e.target.value })}\n          placeholder='{\"data\": {{_lastResult}}}'\n          className=\"font-mono text-sm min-h-20\"\n          data-testid={`input-step-webhook-payload-${stepNumber}`}\n        />\n      </div>\n    </div>\n  );\n}\n\ninterface ScriptEditorProps {\n  action: Extract<JobActionConfig, { type: \"script\" }>;\n  onUpdate: (action: Extract<JobActionConfig, { type: \"script\" }>) => void;\n  stepNumber: number;\n}\n\nfunction ScriptEditor({ action, onUpdate, stepNumber }: ScriptEditorProps) {\n  return (\n    <div className=\"space-y-2\">\n      <Label>JavaScript Code</Label>\n      <Textarea\n        value={action.code}\n        onChange={(e) => onUpdate({ ...action, code: e.target.value })}\n        placeholder={`// Access previous step data via context\nconst users = context._lastResult;\n\n// Process the data\nconst activeUsers = users.filter(u => u.active);\n\n// Return data for next step\nreturn activeUsers;`}\n        className=\"font-mono text-sm min-h-40\"\n        data-testid={`input-step-code-${stepNumber}`}\n      />\n      <p className=\"text-xs text-muted-foreground\">\n        Access data from previous steps using the <code>context</code> object. Return a value to pass to the next step.\n      </p>\n    </div>\n  );\n}\n","path":null,"size_bytes":26704,"size_tokens":null},"server/storage.ts":{"content":"import type { \n  Job, InsertJob, ExecutionLog, Stats,\n  DbWorkflow, DbInsertWorkflow, DbWorkflowStep, DbInsertWorkflowStep, \n  DbWorkflowExecution, JobActionConfig\n} from \"@shared/schema\";\nimport { jobs, executionLogs, workflows, workflowSteps, workflowExecutions } from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, desc, and, gte, sql } from \"drizzle-orm\";\nimport cron from \"node-cron\";\n\nexport interface IStorage {\n  // Jobs\n  getJobs(): Promise<Job[]>;\n  getJob(id: string): Promise<Job | undefined>;\n  createJob(job: InsertJob): Promise<Job>;\n  updateJob(id: string, updates: Partial<InsertJob>): Promise<Job | undefined>;\n  deleteJob(id: string): Promise<boolean>;\n  \n  // Executions\n  getExecutions(): Promise<ExecutionLog[]>;\n  getExecutionsByJob(jobId: string): Promise<ExecutionLog[]>;\n  createExecution(execution: Omit<ExecutionLog, \"id\">): Promise<ExecutionLog>;\n  updateExecution(id: string, updates: Partial<ExecutionLog>): Promise<ExecutionLog | undefined>;\n  \n  // Stats\n  getStats(): Promise<Stats>;\n  \n  // Scheduler\n  scheduleJob(job: Job): void;\n  unscheduleJob(jobId: string): void;\n  runJobNow(jobId: string): Promise<ExecutionLog>;\n\n  // Workflows\n  getWorkflows(): Promise<DbWorkflow[]>;\n  getWorkflow(id: number): Promise<DbWorkflow | undefined>;\n  getWorkflowWithSteps(id: number): Promise<{ workflow: DbWorkflow; steps: DbWorkflowStep[] } | undefined>;\n  createWorkflow(data: DbInsertWorkflow, steps: Omit<DbInsertWorkflowStep, \"workflowId\">[]): Promise<DbWorkflow>;\n  updateWorkflow(id: number, data: Partial<DbInsertWorkflow>, steps?: Omit<DbInsertWorkflowStep, \"workflowId\">[]): Promise<DbWorkflow | undefined>;\n  deleteWorkflow(id: number): Promise<boolean>;\n  runWorkflow(id: number): Promise<DbWorkflowExecution>;\n  getWorkflowExecutions(workflowId?: number): Promise<DbWorkflowExecution[]>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  private scheduledTasks: Map<string, cron.ScheduledTask> = new Map();\n  private scheduledWorkflows: Map<number, cron.ScheduledTask> = new Map();\n\n  constructor() {\n    this.initScheduler();\n  }\n\n  private async initScheduler() {\n    const allJobs = await this.getJobs();\n    for (const job of allJobs) {\n      if (job.status === \"active\") {\n        this.scheduleJob(job);\n      }\n    }\n    \n    const allWorkflows = await this.getWorkflows();\n    for (const workflow of allWorkflows) {\n      if (workflow.status === \"active\" && workflow.cronExpression) {\n        this.scheduleWorkflow(workflow);\n      }\n    }\n  }\n\n  // ============ JOBS ============\n  \n  async getJobs(): Promise<Job[]> {\n    const rows = await db.select().from(jobs).orderBy(desc(jobs.createdAt));\n    return rows.map(this.dbJobToJob);\n  }\n\n  async getJob(id: string): Promise<Job | undefined> {\n    const [row] = await db.select().from(jobs).where(eq(jobs.id, parseInt(id)));\n    return row ? this.dbJobToJob(row) : undefined;\n  }\n\n  async createJob(insertJob: InsertJob): Promise<Job> {\n    const nextRun = insertJob.status === \"active\" ? this.getNextRunTime(insertJob.cronExpression) : null;\n    \n    const [row] = await db.insert(jobs).values({\n      name: insertJob.name,\n      description: insertJob.description || null,\n      cronExpression: insertJob.cronExpression,\n      status: insertJob.status,\n      action: insertJob.action,\n      nextRun: nextRun ? new Date(nextRun) : null,\n      dependsOn: insertJob.dependsOn ? parseInt(insertJob.dependsOn) : null,\n      notifyOnFailure: insertJob.notifyOnFailure || false,\n      notificationWebhook: insertJob.notificationWebhook || null,\n    }).returning();\n\n    const job = this.dbJobToJob(row);\n    \n    if (job.status === \"active\") {\n      this.scheduleJob(job);\n    }\n\n    return job;\n  }\n\n  async updateJob(id: string, updates: Partial<InsertJob>): Promise<Job | undefined> {\n    const existing = await this.getJob(id);\n    if (!existing) return undefined;\n\n    const wasActive = existing.status === \"active\";\n    \n    const updateData: Record<string, unknown> = {\n      updatedAt: new Date(),\n      version: existing.version + 1,\n    };\n    \n    if (updates.name !== undefined) updateData.name = updates.name;\n    if (updates.description !== undefined) updateData.description = updates.description;\n    if (updates.cronExpression !== undefined) updateData.cronExpression = updates.cronExpression;\n    if (updates.status !== undefined) updateData.status = updates.status;\n    if (updates.action !== undefined) updateData.action = updates.action;\n    if (updates.notifyOnFailure !== undefined) updateData.notifyOnFailure = updates.notifyOnFailure;\n    if (updates.notificationWebhook !== undefined) updateData.notificationWebhook = updates.notificationWebhook;\n\n    const newStatus = updates.status || existing.status;\n    const newCron = updates.cronExpression || existing.cronExpression;\n    \n    if (newStatus === \"active\") {\n      updateData.nextRun = new Date(this.getNextRunTime(newCron) || Date.now());\n    } else {\n      updateData.nextRun = null;\n    }\n\n    const [row] = await db.update(jobs)\n      .set(updateData)\n      .where(eq(jobs.id, parseInt(id)))\n      .returning();\n\n    const job = this.dbJobToJob(row);\n\n    if (wasActive) {\n      this.unscheduleJob(id);\n    }\n    if (job.status === \"active\") {\n      this.scheduleJob(job);\n    }\n\n    return job;\n  }\n\n  async deleteJob(id: string): Promise<boolean> {\n    this.unscheduleJob(id);\n    const result = await db.delete(jobs).where(eq(jobs.id, parseInt(id)));\n    return (result.rowCount ?? 0) > 0;\n  }\n\n  // ============ EXECUTIONS ============\n\n  async getExecutions(): Promise<ExecutionLog[]> {\n    const rows = await db.select().from(executionLogs).orderBy(desc(executionLogs.startTime)).limit(100);\n    return rows.map(this.dbExecutionToExecution);\n  }\n\n  async getExecutionsByJob(jobId: string): Promise<ExecutionLog[]> {\n    const rows = await db.select()\n      .from(executionLogs)\n      .where(eq(executionLogs.jobId, parseInt(jobId)))\n      .orderBy(desc(executionLogs.startTime));\n    return rows.map(this.dbExecutionToExecution);\n  }\n\n  async createExecution(execution: Omit<ExecutionLog, \"id\">): Promise<ExecutionLog> {\n    const [row] = await db.insert(executionLogs).values({\n      jobId: execution.jobId ? parseInt(execution.jobId) : null,\n      jobName: execution.jobName,\n      status: execution.status,\n      startTime: new Date(execution.startTime),\n      endTime: execution.endTime ? new Date(execution.endTime) : null,\n      duration: execution.duration,\n      output: execution.output,\n      error: execution.error,\n    }).returning();\n\n    return this.dbExecutionToExecution(row);\n  }\n\n  async updateExecution(id: string, updates: Partial<ExecutionLog>): Promise<ExecutionLog | undefined> {\n    const updateData: Record<string, unknown> = {};\n    \n    if (updates.status !== undefined) updateData.status = updates.status;\n    if (updates.endTime !== undefined) updateData.endTime = new Date(updates.endTime);\n    if (updates.duration !== undefined) updateData.duration = updates.duration;\n    if (updates.output !== undefined) updateData.output = updates.output;\n    if (updates.error !== undefined) updateData.error = updates.error;\n\n    const [row] = await db.update(executionLogs)\n      .set(updateData)\n      .where(eq(executionLogs.id, parseInt(id)))\n      .returning();\n\n    return row ? this.dbExecutionToExecution(row) : undefined;\n  }\n\n  // ============ STATS ============\n\n  async getStats(): Promise<Stats> {\n    const allJobs = await this.getJobs();\n    const activeJobs = allJobs.filter(j => j.status === \"active\");\n    \n    const twentyFourHoursAgo = new Date(Date.now() - 24 * 60 * 60 * 1000);\n    const [failedCount] = await db.select({ count: sql<number>`count(*)` })\n      .from(executionLogs)\n      .where(and(\n        eq(executionLogs.status, \"failure\"),\n        gte(executionLogs.startTime, twentyFourHoursAgo)\n      ));\n\n    const nextExecutionTimes = activeJobs\n      .filter(j => j.nextRun)\n      .map(j => new Date(j.nextRun!).getTime())\n      .sort((a, b) => a - b);\n\n    return {\n      totalJobs: allJobs.length,\n      activeJobs: activeJobs.length,\n      failedLast24h: Number(failedCount?.count || 0),\n      nextExecution: nextExecutionTimes.length > 0 \n        ? new Date(nextExecutionTimes[0]).toISOString() \n        : null,\n    };\n  }\n\n  // ============ SCHEDULER ============\n\n  scheduleJob(job: Job): void {\n    if (this.scheduledTasks.has(job.id)) {\n      this.unscheduleJob(job.id);\n    }\n\n    try {\n      const task = cron.schedule(job.cronExpression, async () => {\n        await this.executeJob(job.id);\n      });\n      \n      this.scheduledTasks.set(job.id, task);\n    } catch (error) {\n      console.error(`Failed to schedule job ${job.id}:`, error);\n    }\n  }\n\n  unscheduleJob(jobId: string): void {\n    const task = this.scheduledTasks.get(jobId);\n    if (task) {\n      task.stop();\n      this.scheduledTasks.delete(jobId);\n    }\n  }\n\n  async runJobNow(jobId: string): Promise<ExecutionLog> {\n    return this.executeJob(jobId);\n  }\n\n  private async executeJob(jobId: string): Promise<ExecutionLog> {\n    const job = await this.getJob(jobId);\n    if (!job) {\n      throw new Error(\"Job not found\");\n    }\n\n    const startTime = new Date().toISOString();\n    const execution = await this.createExecution({\n      jobId: job.id,\n      jobName: job.name,\n      status: \"running\",\n      startTime,\n      endTime: null,\n      duration: null,\n      output: null,\n      error: null,\n    });\n\n    try {\n      const result = await this.runAction(job.action);\n      \n      const endTime = new Date();\n      const duration = endTime.getTime() - new Date(startTime).getTime();\n\n      await this.updateExecution(execution.id, {\n        status: \"success\",\n        endTime: endTime.toISOString(),\n        duration,\n        output: result,\n      });\n\n      await db.update(jobs).set({\n        lastRun: endTime,\n        nextRun: new Date(this.getNextRunTime(job.cronExpression) || Date.now()),\n      }).where(eq(jobs.id, parseInt(jobId)));\n\n      return (await this.getExecutionById(execution.id))!;\n    } catch (error) {\n      const endTime = new Date();\n      const duration = endTime.getTime() - new Date(startTime).getTime();\n      const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n\n      await this.updateExecution(execution.id, {\n        status: \"failure\",\n        endTime: endTime.toISOString(),\n        duration,\n        error: errorMessage,\n      });\n\n      await db.update(jobs).set({\n        lastRun: endTime,\n        nextRun: new Date(this.getNextRunTime(job.cronExpression) || Date.now()),\n      }).where(eq(jobs.id, parseInt(jobId)));\n\n      if (job.notifyOnFailure && job.notificationWebhook) {\n        this.sendFailureNotification(job, errorMessage);\n      }\n\n      return (await this.getExecutionById(execution.id))!;\n    }\n  }\n\n  private async getExecutionById(id: string): Promise<ExecutionLog | undefined> {\n    const [row] = await db.select().from(executionLogs).where(eq(executionLogs.id, parseInt(id)));\n    return row ? this.dbExecutionToExecution(row) : undefined;\n  }\n\n  async runAction(action: JobActionConfig, context?: Record<string, unknown>): Promise<string> {\n    switch (action.type) {\n      case \"http_request\": {\n        const headers: Record<string, string> = {\n          \"Content-Type\": \"application/json\",\n          ...action.headers,\n        };\n        \n        let url = this.interpolateString(action.url, context || {});\n        let body = action.body ? this.interpolateString(action.body, context || {}) : undefined;\n        \n        if (action.auth) {\n          switch (action.auth.type) {\n            case \"basic\": {\n              const credentials = Buffer.from(`${action.auth.username}:${action.auth.password}`).toString(\"base64\");\n              headers[\"Authorization\"] = `Basic ${credentials}`;\n              break;\n            }\n            case \"bearer\": {\n              headers[\"Authorization\"] = `Bearer ${action.auth.token}`;\n              break;\n            }\n            case \"api_key\": {\n              if (action.auth.addTo === \"header\") {\n                headers[action.auth.key] = action.auth.value;\n              } else {\n                const separator = url.includes(\"?\") ? \"&\" : \"?\";\n                url = `${url}${separator}${encodeURIComponent(action.auth.key)}=${encodeURIComponent(action.auth.value)}`;\n              }\n              break;\n            }\n            case \"oauth2_client_credentials\": {\n              const token = await this.getOAuth2Token(action.auth);\n              headers[\"Authorization\"] = `Bearer ${token}`;\n              break;\n            }\n          }\n        }\n\n        const response = await fetch(url, {\n          method: action.method,\n          headers,\n          body: action.method !== \"GET\" && body ? body : undefined,\n        });\n        \n        const text = await response.text();\n        if (!response.ok) {\n          throw new Error(`HTTP ${response.status}: ${text}`);\n        }\n        return text;\n      }\n\n      case \"webhook\": {\n        const payload = action.payload ? this.interpolateString(action.payload, context || {}) : \"{}\";\n        const response = await fetch(action.url, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: payload,\n        });\n        \n        if (!response.ok) {\n          throw new Error(`Webhook failed with status ${response.status}`);\n        }\n        return `Webhook sent successfully (${response.status})`;\n      }\n\n      case \"script\": {\n        const logs: string[] = [];\n        const mockConsole = {\n          log: (...args: unknown[]) => logs.push(args.map(String).join(\" \")),\n          error: (...args: unknown[]) => logs.push(`ERROR: ${args.map(String).join(\" \")}`),\n          warn: (...args: unknown[]) => logs.push(`WARN: ${args.map(String).join(\" \")}`),\n        };\n        \n        const code = this.interpolateString(action.code, context || {});\n        const fn = new Function(\"console\", \"context\", code);\n        const result = fn(mockConsole, context || {});\n        \n        if (result !== undefined) {\n          return JSON.stringify(result);\n        }\n        return logs.join(\"\\n\") || \"Script executed successfully (no output)\";\n      }\n\n      default:\n        throw new Error(\"Unknown action type\");\n    }\n  }\n\n  private interpolateString(str: string, context: Record<string, unknown>): string {\n    return str.replace(/\\{\\{(\\w+(?:\\.\\w+)*)\\}\\}/g, (match, path) => {\n      const value = path.split('.').reduce((obj: unknown, key: string) => {\n        if (obj && typeof obj === 'object') {\n          return (obj as Record<string, unknown>)[key];\n        }\n        return undefined;\n      }, context);\n      return value !== undefined ? String(value) : match;\n    });\n  }\n\n  private async sendFailureNotification(job: Job, error: string): Promise<void> {\n    if (!job.notificationWebhook) return;\n\n    try {\n      await fetch(job.notificationWebhook, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          text: `Job \"${job.name}\" failed: ${error}`,\n          job: { id: job.id, name: job.name },\n          error,\n          timestamp: new Date().toISOString(),\n        }),\n      });\n    } catch (e) {\n      console.error(\"Failed to send failure notification:\", e);\n    }\n  }\n\n  private async getOAuth2Token(auth: { clientId: string; clientSecret: string; tokenUrl: string; scope?: string }): Promise<string> {\n    const body = new URLSearchParams({\n      grant_type: \"client_credentials\",\n      client_id: auth.clientId,\n      client_secret: auth.clientSecret,\n    });\n    \n    if (auth.scope) {\n      body.append(\"scope\", auth.scope);\n    }\n\n    const response = await fetch(auth.tokenUrl, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n      body: body.toString(),\n    });\n\n    if (!response.ok) {\n      const text = await response.text();\n      throw new Error(`OAuth2 token request failed: ${response.status} - ${text}`);\n    }\n\n    const data = await response.json() as { access_token: string };\n    return data.access_token;\n  }\n\n  private getNextRunTime(cronExpression: string): string | null {\n    try {\n      const next = new Date(Date.now() + 60000);\n      return next.toISOString();\n    } catch {\n      return null;\n    }\n  }\n\n  // ============ WORKFLOWS ============\n\n  async getWorkflows(): Promise<DbWorkflow[]> {\n    return db.select().from(workflows).orderBy(desc(workflows.createdAt));\n  }\n\n  async getWorkflow(id: number): Promise<DbWorkflow | undefined> {\n    const [row] = await db.select().from(workflows).where(eq(workflows.id, id));\n    return row;\n  }\n\n  async getWorkflowWithSteps(id: number): Promise<{ workflow: DbWorkflow; steps: DbWorkflowStep[] } | undefined> {\n    const workflow = await this.getWorkflow(id);\n    if (!workflow) return undefined;\n\n    const steps = await db.select()\n      .from(workflowSteps)\n      .where(eq(workflowSteps.workflowId, id))\n      .orderBy(workflowSteps.stepOrder);\n\n    return { workflow, steps };\n  }\n\n  async createWorkflow(data: DbInsertWorkflow, steps: Omit<DbInsertWorkflowStep, \"workflowId\">[]): Promise<DbWorkflow> {\n    const [workflow] = await db.insert(workflows).values({\n      name: data.name,\n      description: data.description,\n      status: data.status || \"active\",\n      cronExpression: data.cronExpression,\n    }).returning();\n\n    if (steps.length > 0) {\n      await db.insert(workflowSteps).values(\n        steps.map((step, index) => ({\n          workflowId: workflow.id,\n          stepOrder: step.stepOrder ?? index,\n          name: step.name,\n          action: step.action,\n          inputMapping: step.inputMapping,\n          outputVariable: step.outputVariable,\n        }))\n      );\n    }\n\n    if (workflow.status === \"active\" && workflow.cronExpression) {\n      this.scheduleWorkflow(workflow);\n    }\n\n    return workflow;\n  }\n\n  async updateWorkflow(id: number, data: Partial<DbInsertWorkflow>, steps?: Omit<DbInsertWorkflowStep, \"workflowId\">[]): Promise<DbWorkflow | undefined> {\n    const existing = await this.getWorkflow(id);\n    if (!existing) return undefined;\n\n    const wasActive = existing.status === \"active\";\n\n    const [workflow] = await db.update(workflows)\n      .set({\n        ...data,\n        updatedAt: new Date(),\n      })\n      .where(eq(workflows.id, id))\n      .returning();\n\n    if (steps !== undefined) {\n      await db.delete(workflowSteps).where(eq(workflowSteps.workflowId, id));\n      \n      if (steps.length > 0) {\n        await db.insert(workflowSteps).values(\n          steps.map((step, index) => ({\n            workflowId: id,\n            stepOrder: step.stepOrder ?? index,\n            name: step.name,\n            action: step.action,\n            inputMapping: step.inputMapping,\n            outputVariable: step.outputVariable,\n          }))\n        );\n      }\n    }\n\n    if (wasActive && existing.cronExpression) {\n      this.unscheduleWorkflow(id);\n    }\n    if (workflow.status === \"active\" && workflow.cronExpression) {\n      this.scheduleWorkflow(workflow);\n    }\n\n    return workflow;\n  }\n\n  async deleteWorkflow(id: number): Promise<boolean> {\n    this.unscheduleWorkflow(id);\n    await db.delete(workflowSteps).where(eq(workflowSteps.workflowId, id));\n    await db.delete(workflowExecutions).where(eq(workflowExecutions.workflowId, id));\n    const result = await db.delete(workflows).where(eq(workflows.id, id));\n    return (result.rowCount ?? 0) > 0;\n  }\n\n  private scheduleWorkflow(workflow: DbWorkflow): void {\n    if (!workflow.cronExpression) return;\n    \n    if (this.scheduledWorkflows.has(workflow.id)) {\n      this.unscheduleWorkflow(workflow.id);\n    }\n\n    try {\n      const task = cron.schedule(workflow.cronExpression, async () => {\n        await this.runWorkflow(workflow.id);\n      });\n      \n      this.scheduledWorkflows.set(workflow.id, task);\n    } catch (error) {\n      console.error(`Failed to schedule workflow ${workflow.id}:`, error);\n    }\n  }\n\n  private unscheduleWorkflow(workflowId: number): void {\n    const task = this.scheduledWorkflows.get(workflowId);\n    if (task) {\n      task.stop();\n      this.scheduledWorkflows.delete(workflowId);\n    }\n  }\n\n  async runWorkflow(id: number): Promise<DbWorkflowExecution> {\n    const workflowData = await this.getWorkflowWithSteps(id);\n    if (!workflowData) {\n      throw new Error(\"Workflow not found\");\n    }\n\n    const { workflow, steps } = workflowData;\n\n    const [execution] = await db.insert(workflowExecutions).values({\n      workflowId: id,\n      status: \"running\",\n      currentStep: 0,\n      context: {},\n    }).returning();\n\n    let context: Record<string, unknown> = {};\n    let currentStep = 0;\n\n    try {\n      for (const step of steps) {\n        currentStep = step.stepOrder;\n        const stepStartTime = new Date();\n        \n        await db.update(workflowExecutions)\n          .set({ currentStep, context })\n          .where(eq(workflowExecutions.id, execution.id));\n\n        const stepExecution = await this.createExecutionForWorkflowStep(\n          `${workflow.name} > ${step.name}`,\n          stepStartTime.toISOString()\n        );\n\n        try {\n          const action = step.action as JobActionConfig;\n          const result = await this.runAction(action, context);\n\n          const stepEndTime = new Date();\n          const duration = stepEndTime.getTime() - stepStartTime.getTime();\n\n          await this.updateExecution(stepExecution.id, {\n            status: \"success\",\n            endTime: stepEndTime.toISOString(),\n            duration,\n            output: result,\n          });\n\n          let parsedResult: unknown = result;\n          try {\n            parsedResult = JSON.parse(result);\n          } catch {\n            parsedResult = result;\n          }\n\n          if (step.outputVariable) {\n            context[step.outputVariable] = parsedResult;\n          }\n          \n          context._lastResult = parsedResult;\n          context._stepResults = context._stepResults || {};\n          (context._stepResults as Record<string, unknown>)[step.name] = parsedResult;\n        } catch (stepError) {\n          const stepEndTime = new Date();\n          const duration = stepEndTime.getTime() - stepStartTime.getTime();\n          const stepErrorMessage = stepError instanceof Error ? stepError.message : \"Unknown error\";\n\n          await this.updateExecution(stepExecution.id, {\n            status: \"failure\",\n            endTime: stepEndTime.toISOString(),\n            duration,\n            error: stepErrorMessage,\n          });\n\n          throw stepError;\n        }\n      }\n\n      const [updated] = await db.update(workflowExecutions)\n        .set({\n          status: \"completed\",\n          currentStep,\n          context,\n          endTime: new Date(),\n        })\n        .where(eq(workflowExecutions.id, execution.id))\n        .returning();\n\n      return updated;\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n      \n      const [updated] = await db.update(workflowExecutions)\n        .set({\n          status: \"failed\",\n          currentStep,\n          context,\n          endTime: new Date(),\n          error: errorMessage,\n        })\n        .where(eq(workflowExecutions.id, execution.id))\n        .returning();\n\n      return updated;\n    }\n  }\n\n  private async createExecutionForWorkflowStep(jobName: string, startTime: string): Promise<ExecutionLog> {\n    const [row] = await db.insert(executionLogs).values({\n      jobId: null,\n      jobName,\n      status: \"running\",\n      startTime: new Date(startTime),\n      endTime: null,\n      duration: null,\n      output: null,\n      error: null,\n    }).returning();\n\n    return this.dbExecutionToExecution(row);\n  }\n\n  async getWorkflowExecutions(workflowId?: number): Promise<DbWorkflowExecution[]> {\n    if (workflowId) {\n      return db.select()\n        .from(workflowExecutions)\n        .where(eq(workflowExecutions.workflowId, workflowId))\n        .orderBy(desc(workflowExecutions.startTime));\n    }\n    return db.select()\n      .from(workflowExecutions)\n      .orderBy(desc(workflowExecutions.startTime))\n      .limit(50);\n  }\n\n  // ============ HELPERS ============\n\n  private dbJobToJob(row: typeof jobs.$inferSelect): Job {\n    return {\n      id: String(row.id),\n      name: row.name,\n      description: row.description || \"\",\n      cronExpression: row.cronExpression,\n      status: row.status as Job[\"status\"],\n      action: row.action as Job[\"action\"],\n      lastRun: row.lastRun?.toISOString() || null,\n      nextRun: row.nextRun?.toISOString() || null,\n      createdAt: row.createdAt.toISOString(),\n      updatedAt: row.updatedAt.toISOString(),\n      dependsOn: row.dependsOn ? String(row.dependsOn) : null,\n      version: row.version,\n      notifyOnFailure: row.notifyOnFailure || false,\n      notificationWebhook: row.notificationWebhook,\n    };\n  }\n\n  private dbExecutionToExecution(row: typeof executionLogs.$inferSelect): ExecutionLog {\n    return {\n      id: String(row.id),\n      jobId: row.jobId ? String(row.jobId) : \"\",\n      jobName: row.jobName,\n      status: row.status as ExecutionLog[\"status\"],\n      startTime: row.startTime.toISOString(),\n      endTime: row.endTime?.toISOString() || null,\n      duration: row.duration,\n      output: row.output,\n      error: row.error,\n    };\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","path":null,"size_bytes":25398,"size_tokens":null},"server/static.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(__dirname, \"public\");\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","path":null,"size_bytes":547,"size_tokens":null},"client/src/components/stats-cards.tsx":{"content":"import { Clock, PlayCircle, AlertCircle, Timer } from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport type { Stats } from \"@shared/schema\";\nimport { formatDistanceToNow } from \"date-fns\";\n\ninterface StatsCardsProps {\n  stats: Stats | undefined;\n  isLoading: boolean;\n}\n\nexport function StatsCards({ stats, isLoading }: StatsCardsProps) {\n  if (isLoading) {\n    return (\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n        {[1, 2, 3, 4].map((i) => (\n          <Card key={i}>\n            <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n              <Skeleton className=\"h-4 w-20\" />\n              <Skeleton className=\"h-4 w-4\" />\n            </CardHeader>\n            <CardContent>\n              <Skeleton className=\"h-8 w-16 mb-1\" />\n              <Skeleton className=\"h-3 w-24\" />\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    );\n  }\n\n  const items = [\n    {\n      title: \"Total Jobs\",\n      value: stats?.totalJobs ?? 0,\n      description: \"Scheduled tasks\",\n      icon: Clock,\n      testId: \"stat-total-jobs\",\n    },\n    {\n      title: \"Active\",\n      value: stats?.activeJobs ?? 0,\n      description: \"Currently running\",\n      icon: PlayCircle,\n      testId: \"stat-active-jobs\",\n    },\n    {\n      title: \"Failed (24h)\",\n      value: stats?.failedLast24h ?? 0,\n      description: \"In last 24 hours\",\n      icon: AlertCircle,\n      testId: \"stat-failed-jobs\",\n    },\n    {\n      title: \"Next Execution\",\n      value: stats?.nextExecution\n        ? formatDistanceToNow(new Date(stats.nextExecution), { addSuffix: true })\n        : \"No jobs\",\n      description: stats?.nextExecution\n        ? new Date(stats.nextExecution).toLocaleTimeString()\n        : \"Schedule a job\",\n      icon: Timer,\n      testId: \"stat-next-execution\",\n    },\n  ];\n\n  return (\n    <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n      {items.map((item) => (\n        <Card key={item.title} data-testid={item.testId}>\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\n              {item.title}\n            </CardTitle>\n            <item.icon className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\" data-testid={`${item.testId}-value`}>\n              {item.value}\n            </div>\n            <p className=\"text-xs text-muted-foreground\">{item.description}</p>\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  );\n}\n","path":null,"size_bytes":2729,"size_tokens":null},"client/src/pages/templates.tsx":{"content":"import { useLocation } from \"wouter\";\nimport { Globe, Webhook, Code, Clock, Database, Mail, Bell, FileJson } from \"lucide-react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\n\nconst templates = [\n  {\n    id: \"health-check\",\n    name: \"Health Check\",\n    description: \"Monitor endpoint availability with periodic HTTP requests\",\n    category: \"Monitoring\",\n    icon: Globe,\n    cronExpression: \"*/5 * * * *\",\n    action: {\n      type: \"http_request\" as const,\n      url: \"https://api.example.com/health\",\n      method: \"GET\" as const,\n    },\n  },\n  {\n    id: \"daily-backup\",\n    name: \"Daily Backup Trigger\",\n    description: \"Trigger a backup webhook every day at midnight\",\n    category: \"Data\",\n    icon: Database,\n    cronExpression: \"0 0 * * *\",\n    action: {\n      type: \"webhook\" as const,\n      url: \"https://backup.example.com/trigger\",\n      payload: '{\"type\": \"full\"}',\n    },\n  },\n  {\n    id: \"weekly-report\",\n    name: \"Weekly Report\",\n    description: \"Generate and send weekly analytics report\",\n    category: \"Reports\",\n    icon: Mail,\n    cronExpression: \"0 9 * * 1\",\n    action: {\n      type: \"http_request\" as const,\n      url: \"https://api.example.com/reports/weekly\",\n      method: \"POST\" as const,\n    },\n  },\n  {\n    id: \"cache-clear\",\n    name: \"Cache Cleaner\",\n    description: \"Clear application cache every hour\",\n    category: \"Maintenance\",\n    icon: Clock,\n    cronExpression: \"0 * * * *\",\n    action: {\n      type: \"http_request\" as const,\n      url: \"https://api.example.com/cache/clear\",\n      method: \"POST\" as const,\n    },\n  },\n  {\n    id: \"slack-reminder\",\n    name: \"Team Reminder\",\n    description: \"Send daily standup reminder to Slack\",\n    category: \"Notifications\",\n    icon: Bell,\n    cronExpression: \"0 9 * * 1-5\",\n    action: {\n      type: \"webhook\" as const,\n      url: \"https://hooks.slack.com/services/xxx\",\n      payload: '{\"text\": \"Time for standup!\"}',\n    },\n  },\n  {\n    id: \"data-sync\",\n    name: \"Data Synchronization\",\n    description: \"Sync data between systems every 15 minutes\",\n    category: \"Data\",\n    icon: FileJson,\n    cronExpression: \"*/15 * * * *\",\n    action: {\n      type: \"http_request\" as const,\n      url: \"https://api.example.com/sync\",\n      method: \"POST\" as const,\n    },\n  },\n  {\n    id: \"log-cleanup\",\n    name: \"Log Cleanup Script\",\n    description: \"Run cleanup script to archive old logs\",\n    category: \"Maintenance\",\n    icon: Code,\n    cronExpression: \"0 2 * * 0\",\n    action: {\n      type: \"script\" as const,\n      code: 'console.log(\"Cleaning up logs...\");',\n      language: \"javascript\" as const,\n    },\n  },\n  {\n    id: \"api-ping\",\n    name: \"API Keepalive\",\n    description: \"Ping API to prevent cold starts\",\n    category: \"Monitoring\",\n    icon: Webhook,\n    cronExpression: \"*/10 * * * *\",\n    action: {\n      type: \"http_request\" as const,\n      url: \"https://api.example.com/ping\",\n      method: \"GET\" as const,\n    },\n  },\n];\n\nconst categoryColors: Record<string, string> = {\n  Monitoring: \"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20\",\n  Data: \"bg-purple-500/10 text-purple-600 dark:text-purple-400 border-purple-500/20\",\n  Reports: \"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20\",\n  Maintenance: \"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/20\",\n  Notifications: \"bg-pink-500/10 text-pink-600 dark:text-pink-400 border-pink-500/20\",\n};\n\nexport default function Templates() {\n  const [, navigate] = useLocation();\n\n  const handleUseTemplate = (template: typeof templates[0]) => {\n    const params = new URLSearchParams({\n      template: JSON.stringify({\n        name: template.name,\n        description: template.description,\n        cronExpression: template.cronExpression,\n        action: template.action,\n      }),\n    });\n    navigate(`/jobs/new?${params.toString()}`);\n  };\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold tracking-tight\">Job Templates</h1>\n        <p className=\"text-muted-foreground\">\n          Quick-start templates for common automation patterns\n        </p>\n      </div>\n\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n        {templates.map((template) => {\n          const IconComponent = template.icon;\n          return (\n            <Card key={template.id} className=\"overflow-visible\" data-testid={`template-${template.id}`}>\n              <CardHeader className=\"pb-3\">\n                <div className=\"flex items-start justify-between gap-2\">\n                  <div className=\"rounded-md bg-muted p-2\">\n                    <IconComponent className=\"h-5 w-5 text-muted-foreground\" />\n                  </div>\n                  <Badge variant=\"outline\" className={categoryColors[template.category]}>\n                    {template.category}\n                  </Badge>\n                </div>\n                <CardTitle className=\"text-base mt-3\">{template.name}</CardTitle>\n                <CardDescription className=\"text-sm\">\n                  {template.description}\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"pt-0\">\n                <div className=\"flex items-center gap-2 text-xs text-muted-foreground mb-4\">\n                  <Clock className=\"h-3 w-3\" />\n                  <code className=\"font-mono bg-muted px-1.5 py-0.5 rounded\">\n                    {template.cronExpression}\n                  </code>\n                </div>\n                <Button\n                  variant=\"secondary\"\n                  className=\"w-full\"\n                  onClick={() => handleUseTemplate(template)}\n                  data-testid={`button-use-template-${template.id}`}\n                >\n                  Use Template\n                </Button>\n              </CardContent>\n            </Card>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":6020,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5741,"size_tokens":null},"client/src/components/theme-toggle.tsx":{"content":"import { Moon, Sun } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { useTheme } from \"@/components/theme-provider\";\n\nexport function ThemeToggle() {\n  const { theme, setTheme } = useTheme();\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}\n      data-testid=\"button-theme-toggle\"\n      className=\"relative\"\n    >\n      <Sun className=\"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n      <Moon className=\"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n      <span className=\"sr-only\">Toggle theme</span>\n    </Button>\n  );\n}\n","path":null,"size_bytes":704,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2154,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3021,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7609,"size_tokens":null},"server/db.ts":{"content":"import { drizzle } from \"drizzle-orm/node-postgres\";\nimport pg from \"pg\";\nimport * as schema from \"@shared/schema\";\n\nconst { Pool } = pg;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle(pool, { schema });\n","path":null,"size_bytes":395,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3848,"size_tokens":null},"client/src/pages/settings.tsx":{"content":"import { Moon, Sun, Monitor } from \"lucide-react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Button } from \"@/components/ui/button\";\nimport { useTheme } from \"@/components/theme-provider\";\n\nexport default function Settings() {\n  const { theme, setTheme } = useTheme();\n\n  return (\n    <div className=\"space-y-6 p-6 max-w-2xl\">\n      <div>\n        <h1 className=\"text-3xl font-bold tracking-tight\">Settings</h1>\n        <p className=\"text-muted-foreground\">Manage your application preferences</p>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Appearance</CardTitle>\n          <CardDescription>\n            Customize the look and feel of the application\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label>Theme</Label>\n            <div className=\"flex gap-2\">\n              <Button\n                variant={theme === \"light\" ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() => setTheme(\"light\")}\n                className=\"gap-2\"\n                data-testid=\"button-theme-light\"\n              >\n                <Sun className=\"h-4 w-4\" />\n                Light\n              </Button>\n              <Button\n                variant={theme === \"dark\" ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() => setTheme(\"dark\")}\n                className=\"gap-2\"\n                data-testid=\"button-theme-dark\"\n              >\n                <Moon className=\"h-4 w-4\" />\n                Dark\n              </Button>\n              <Button\n                variant={theme === \"system\" ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() => setTheme(\"system\")}\n                className=\"gap-2\"\n                data-testid=\"button-theme-system\"\n              >\n                <Monitor className=\"h-4 w-4\" />\n                System\n              </Button>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>About r4n</CardTitle>\n          <CardDescription>\n            A modern cron job management platform\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-2 text-sm text-muted-foreground\">\n          <p>Version 1.0.0</p>\n          <p>\n            r4n helps you schedule and manage automated tasks with ease.\n            Create HTTP requests, webhooks, and scripts that run on your schedule.\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":2689,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7428,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","path":null,"size_bytes":2359,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1527,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1467,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":711,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","path":null,"size_bytes":2695,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8605,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1056,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1251,"size_tokens":null},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1383,"size_tokens":null},"server/vite.ts":{"content":"import { type Express } from \"express\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport async function setupVite(server: Server, app: Express) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server, path: \"/vite-hmr\" },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n","path":null,"size_bytes":1534,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"client/src/pages/jobs.tsx":{"content":"import { useState } from \"react\";\nimport { Link } from \"wouter\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Plus, Search, Filter } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { JobCard } from \"@/components/job-card\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport type { Job } from \"@shared/schema\";\n\nexport default function Jobs() {\n  const { toast } = useToast();\n  const [search, setSearch] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n\n  const { data: jobs = [], isLoading } = useQuery<Job[]>({\n    queryKey: [\"/api/jobs\"],\n  });\n\n  const toggleMutation = useMutation({\n    mutationFn: async ({ id, enabled }: { id: string; enabled: boolean }) => {\n      return apiRequest(\"PATCH\", `/api/jobs/${id}`, { status: enabled ? \"active\" : \"paused\" });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/jobs\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/stats\"] });\n    },\n  });\n\n  const runMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return apiRequest(\"POST\", `/api/jobs/${id}/run`);\n    },\n    onSuccess: () => {\n      toast({ title: \"Job started\", description: \"The job is now running\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/jobs\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/executions\"] });\n    },\n    onError: (error: Error) => {\n      toast({ title: \"Failed to run job\", description: error.message, variant: \"destructive\" });\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return apiRequest(\"DELETE\", `/api/jobs/${id}`);\n    },\n    onSuccess: () => {\n      toast({ title: \"Job deleted\", description: \"The job has been removed\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/jobs\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/stats\"] });\n    },\n  });\n\n  const filteredJobs = jobs.filter((job) => {\n    const matchesSearch = job.name.toLowerCase().includes(search.toLowerCase()) ||\n      (job.description?.toLowerCase().includes(search.toLowerCase()) ?? false);\n    const matchesStatus = statusFilter === \"all\" || job.status === statusFilter;\n    return matchesSearch && matchesStatus;\n  });\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">Active Jobs</h1>\n          <p className=\"text-muted-foreground\">View and manage all your scheduled tasks</p>\n        </div>\n        <Link href=\"/jobs/new\">\n          <Button className=\"gap-2\" data-testid=\"button-new-job\">\n            <Plus className=\"h-4 w-4\" />\n            New Job\n          </Button>\n        </Link>\n      </div>\n\n      <div className=\"flex items-center gap-4 flex-wrap\">\n        <div className=\"relative flex-1 min-w-64\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n          <Input\n            placeholder=\"Search jobs...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            className=\"pl-10\"\n            data-testid=\"input-search-jobs\"\n          />\n        </div>\n        <Select value={statusFilter} onValueChange={setStatusFilter}>\n          <SelectTrigger className=\"w-40\" data-testid=\"select-status-filter\">\n            <Filter className=\"h-4 w-4 mr-2\" />\n            <SelectValue placeholder=\"Filter\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Status</SelectItem>\n            <SelectItem value=\"active\">Active</SelectItem>\n            <SelectItem value=\"paused\">Paused</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      {isLoading ? (\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {[1, 2, 3, 4, 5, 6].map((i) => (\n            <Card key={i}>\n              <CardContent className=\"p-6 space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <Skeleton className=\"h-5 w-32\" />\n                  <Skeleton className=\"h-5 w-16\" />\n                </div>\n                <Skeleton className=\"h-4 w-48\" />\n                <Skeleton className=\"h-8 w-full\" />\n                <div className=\"flex justify-between\">\n                  <Skeleton className=\"h-4 w-24\" />\n                  <Skeleton className=\"h-6 w-12\" />\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      ) : filteredJobs.length === 0 ? (\n        <Card>\n          <CardContent className=\"flex flex-col items-center justify-center py-16 text-center\">\n            {jobs.length === 0 ? (\n              <>\n                <div className=\"rounded-full bg-muted p-4 mb-4\">\n                  <Plus className=\"h-8 w-8 text-muted-foreground\" />\n                </div>\n                <h3 className=\"text-lg font-medium\">No jobs yet</h3>\n                <p className=\"text-sm text-muted-foreground mt-1 mb-4\">\n                  Create your first scheduled task to get started\n                </p>\n                <Link href=\"/jobs/new\">\n                  <Button data-testid=\"button-create-job-empty\">Create Job</Button>\n                </Link>\n              </>\n            ) : (\n              <>\n                <Search className=\"h-12 w-12 text-muted-foreground/50 mb-4\" />\n                <h3 className=\"text-lg font-medium\">No matching jobs</h3>\n                <p className=\"text-sm text-muted-foreground mt-1\">\n                  Try adjusting your search or filter\n                </p>\n              </>\n            )}\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {filteredJobs.map((job) => (\n            <JobCard\n              key={job.id}\n              job={job}\n              onToggleStatus={(id, enabled) => toggleMutation.mutate({ id, enabled })}\n              onRunNow={(id) => runMutation.mutate(id)}\n              onDelete={(id) => deleteMutation.mutate(id)}\n              isRunning={runMutation.isPending && runMutation.variables === job.id}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":6618,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5128,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":21846,"size_tokens":null},"script/build.ts":{"content":"import { build as esbuild } from \"esbuild\";\nimport { build as viteBuild } from \"vite\";\nimport { rm, readFile } from \"fs/promises\";\n\n// server deps to bundle to reduce openat(2) syscalls\n// which helps cold start times\nconst allowlist = [\n  \"@google/generative-ai\",\n  \"axios\",\n  \"connect-pg-simple\",\n  \"cors\",\n  \"date-fns\",\n  \"drizzle-orm\",\n  \"drizzle-zod\",\n  \"express\",\n  \"express-rate-limit\",\n  \"express-session\",\n  \"jsonwebtoken\",\n  \"memorystore\",\n  \"multer\",\n  \"nanoid\",\n  \"nodemailer\",\n  \"openai\",\n  \"passport\",\n  \"passport-local\",\n  \"pg\",\n  \"stripe\",\n  \"uuid\",\n  \"ws\",\n  \"xlsx\",\n  \"zod\",\n  \"zod-validation-error\",\n];\n\nasync function buildAll() {\n  await rm(\"dist\", { recursive: true, force: true });\n\n  console.log(\"building client...\");\n  await viteBuild();\n\n  console.log(\"building server...\");\n  const pkg = JSON.parse(await readFile(\"package.json\", \"utf-8\"));\n  const allDeps = [\n    ...Object.keys(pkg.dependencies || {}),\n    ...Object.keys(pkg.devDependencies || {}),\n  ];\n  const externals = allDeps.filter((dep) => !allowlist.includes(dep));\n\n  await esbuild({\n    entryPoints: [\"server/index.ts\"],\n    platform: \"node\",\n    bundle: true,\n    format: \"cjs\",\n    outfile: \"dist/index.cjs\",\n    define: {\n      \"process.env.NODE_ENV\": '\"production\"',\n    },\n    minify: true,\n    external: externals,\n    logLevel: \"info\",\n  });\n}\n\nbuildAll().catch((err) => {\n  console.error(err);\n  process.exit(1);\n});\n","path":null,"size_bytes":1417,"size_tokens":null},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","path":null,"size_bytes":689,"size_tokens":null},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1202,"size_tokens":null},"client/src/components/app-sidebar.tsx":{"content":"import { Link, useLocation } from \"wouter\";\nimport {\n  LayoutDashboard,\n  Clock,\n  History,\n  Settings,\n  FileCode,\n  Plus,\n  GitBranch,\n} from \"lucide-react\";\nimport r4nLogo from \"@assets/generated_images/r4n_automation_platform_logo.png\";\nimport {\n  Sidebar,\n  SidebarContent,\n  SidebarGroup,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarHeader,\n  SidebarFooter,\n} from \"@/components/ui/sidebar\";\nimport { Button } from \"@/components/ui/button\";\n\nconst navItems = [\n  {\n    title: \"Dashboard\",\n    url: \"/\",\n    icon: LayoutDashboard,\n  },\n  {\n    title: \"Active Jobs\",\n    url: \"/jobs\",\n    icon: Clock,\n  },\n  {\n    title: \"History\",\n    url: \"/history\",\n    icon: History,\n  },\n  {\n    title: \"Templates\",\n    url: \"/templates\",\n    icon: FileCode,\n  },\n  {\n    title: \"Workflows\",\n    url: \"/workflows\",\n    icon: GitBranch,\n  },\n  {\n    title: \"Settings\",\n    url: \"/settings\",\n    icon: Settings,\n  },\n];\n\nexport function AppSidebar() {\n  const [location] = useLocation();\n\n  return (\n    <Sidebar>\n      <SidebarHeader className=\"p-4\">\n        <Link href=\"/\">\n          <div className=\"flex items-center gap-2\" data-testid=\"link-logo\">\n            <img src={r4nLogo} alt=\"r4n logo\" className=\"h-8 w-8 rounded-md\" />\n            <span className=\"text-xl font-bold\">r4n</span>\n          </div>\n        </Link>\n      </SidebarHeader>\n      <SidebarContent>\n        <SidebarGroup>\n          <SidebarGroupLabel>Navigation</SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {navItems.map((item) => (\n                <SidebarMenuItem key={item.title}>\n                  <SidebarMenuButton\n                    asChild\n                    isActive={location === item.url}\n                  >\n                    <Link href={item.url} data-testid={`link-nav-${item.title.toLowerCase().replace(/\\s/g, \"-\")}`}>\n                      <item.icon className=\"h-4 w-4\" />\n                      <span>{item.title}</span>\n                    </Link>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n      </SidebarContent>\n      <SidebarFooter className=\"p-4\">\n        <Link href=\"/jobs/new\">\n          <Button className=\"w-full gap-2\" data-testid=\"button-create-job\">\n            <Plus className=\"h-4 w-4\" />\n            Create Job\n          </Button>\n        </Link>\n      </SidebarFooter>\n    </Sidebar>\n  );\n}\n","path":null,"size_bytes":2535,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4885,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null}},"version":2}